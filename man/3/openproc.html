<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command openproc</title><meta name="description" content="Linux command openproc initialize process information from /proc/"><meta name="keywords" content="linux, command, openproc, bsd, initialize process information from /proc/"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>openproc, closeproc - initialize process information from /proc/</p>
<h1>SYNOPSIS</h1>
<p><strong>#include &lt;proc/readproc.h&gt;</strong></p>
<p><strong>PROCTAB* openproc (int </strong><em>flags</em><strong>, ... );</strong><br />
<strong>void closeproc (PROCTAB* </strong><em>PT</em><strong>);</strong></p>
<h1>SYNOPSIS</h1>
<p>The <strong>openproc</strong> function initializes a PROCTAB structure which can be used by iterated readproc calls to get information on current processes. Depending on <em>flags</em>, openproc may need a second argument or a second and third argument (see below).</p>
<p><strong>closeproc</strong> closes all files opened by <strong>openproc</strong> and deallocates the memory allocated by <strong>openproc.</strong></p>
<p>The PROCTAB structure is defined in <em>&lt;proc/readproc.h&gt;</em></p>
<h1>RETURN VALUE</h1>
<p><strong>openproc</strong> returns a pointer to a PROCTAB structure, or NULL if an error occurs. This usually means that <em>/proc</em> cannot be read by the process.</p>
<h1>FLAGS</h1>
<p>The behaviour of <strong>openproc</strong> is controlled by the following set of flags, which may be ORed together. There are three different kinds of flags. The first group of flags determines which information gets read from /proc/#pid for each process. The second group of flags (of which only one can be enacted for a opendir call) restricts which processes information is read for by providing a list of criteria. The third group of flags restricts this as well, but doesn't need arguments. These may be used together again.</p>
<dl>
<dt><strong>PROC_FILLMEM</strong></dt>
<dd><p>read information from <em>/proc/#pid/statm</em></p>
</dd>
<dt><strong>PROC_FILLCOM</strong></dt>
<dd><p>allocate <em>cmdline</em> part of <em>proc_t</em> and read information from <em>/proc/#pid/cmdline</em></p>
</dd>
<dt><strong>PROC_FILLENV</strong></dt>
<dd><p>allocate <em>environ</em> part of <em>proc_t</em> and read information from <em>/proc/#pid/environ</em></p>
</dd>
<dt><strong>PROC_FILLUSR</strong></dt>
<dd><p>resolve user ids to names via <em>/etc/passwd</em></p>
</dd>
<dt><strong>PROC_FILLGRP</strong></dt>
<dd><p>resolve group ids to names via <em>/etc/group</em></p>
</dd>
<dt><strong>PROC_FILLSTATUS</strong></dt>
<dd><p>read information from <em>/proc/#pid/status</em></p>
</dd>
<dt><strong>PROC_FILLSTAT</strong></dt>
<dd><p>read information from <em>/proc/#pid/stat</em></p>
</dd>
<dt><strong>PROC_FILLARG</strong></dt>
<dd><p>equivalent to PROC_FILLCOM</p>
</dd>
<dt><strong>PROC_FILLCGROUP</strong></dt>
<dd><p>alloc and fill in cgroup</p>
</dd>
<dt><strong>PROC_FILLSUPGRP</strong></dt>
<dd><p>resolve supplementary group id -&gt; group name</p>
</dd>
<dt><strong>PROC_FILLOOM</strong></dt>
<dd><p>fill in proc_t oom_score and oom_adj</p>
</dd>
<dt><strong>PROC_FILLNS</strong></dt>
<dd><p>fill in proc_t namespace information</p>
</dd>
<dt><strong>PROC_FILLSYSTEMD</strong></dt>
<dd><p>fill in proc_t systemd information</p>
</dd>
<dt><strong>PROC_LOOSE_TASKS</strong></dt>
<dd><p>threat threads as if they were processes</p>
</dd>
<dt><strong>PROC_PID</strong> (2nd argument <strong>pid_t*</strong>"<strong><em>pidlist</em>)</strong></dt>
<dd><p>lookup only processes whose pid is contained in <em>pidlist</em> (the list is terminated with 0)</p>
</dd>
<dt><strong>PROC_UID</strong> (arguments <strong>uid_t*</strong>"<strong><em>uidlist</em><strong>,</strong></strong>int<strong><em>n</em>)</strong></dt>
<dd><p>lookup only processes whose user id is contained in <em>uidlist</em> (where <em>n</em> is the number of uids contained in the list)</p>
</dd>
<dt><strong>PROC_EDITCGRPCVT</strong></dt>
<dd><p>edit cgroup as single vector</p>
</dd>
<dt><strong>PROC_EDITCMDLCVT</strong></dt>
<dd><p>edit cmdline as single vector</p>
</dd>
<dt><strong>PROC_EDITENVRCVT</strong></dt>
<dd><p>edit environ as single vector</p>
</dd>
</dl>
<h1>NOTE</h1>
<p>Only one of the flags needing additional arguments (<strong>PROC_{PID,UID}</strong>) may be used at a time.</p>
<h1>SEE ALSO</h1>
<p><strong>readproc</strong>(3), <strong>readproctab</strong>(3), <strong>/proc/</strong>, <strong>/usr/include/proc/readproc.h</strong>,</p>
<h1>REPORTING BUGS</h1>
<p>Please send bug reports to <a href="procps@freelists.org"></a></p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

