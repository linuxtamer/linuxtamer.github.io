<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command tmpnam_r</title><meta name="description" content="Linux command tmpnam_r create a name for a temporary file"><meta name="keywords" content="linux, command, tmpnam_r, bsd, create a name for a temporary file"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>tmpnam, tmpnam_r - create a name for a temporary file</p>
<h1>SYNOPSIS</h1>
<pre><code>#include &lt;stdio.h&gt;

char *tmpnam(char *s);
char *tmpnam_r(char *s);</code></pre>
<blockquote>
<p>Feature Test Macro Requirements for glibc (see <strong>feature_test_macros</strong>(7)):</p>
</blockquote>
<p><strong>tmpnam_r</strong>()</p>
<blockquote>
<dl>
<dt>Since glibc 2.19:</dt>
<dd><p>_DEFAULT_SOURCE</p>
</dd>
<dt>Up to and including glibc 2.19:</dt>
<dd><p>_BSD_SOURCE || _SVID_SOURCE</p>
</dd>
</dl>
</blockquote>
<h1>DESCRIPTION</h1>
<p><strong>Note:</strong> avoid using these functions; use <strong>mkstemp</strong>(3) or <strong>tmpfile</strong>(3) instead.</p>
<p>The <strong>tmpnam</strong>() function returns a pointer to a string that is a valid filename, and such that a file with this name did not exist at some point in time, so that naive programmers may think it a suitable name for a temporary file. If the argument <em>s</em> is NULL, this name is generated in an internal static buffer and may be overwritten by the next call to <strong>tmpnam</strong>(). If <em>s</em> is not NULL, the name is copied to the character array (of length at least <em>L_tmpnam</em>) pointed to by <em>s</em> and the value <em>s</em> is returned in case of success.</p>
<p>The created pathname has a directory prefix <em>P_tmpdir</em>. (Both <em>L_tmpnam</em> and <em>P_tmpdir</em> are defined in <em>&lt;stdio.h&gt;</em>, just like the <strong>TMP_MAX</strong> mentioned below.)</p>
<p>The <strong>tmpnam_r</strong>() function performs the same task as <strong>tmpnam</strong>(), but returns NULL (to indicate an error) if <em>s</em> is NULL.</p>
<h1>RETURN VALUE</h1>
<p>These functions return a pointer to a unique temporary filename, or NULL if a unique name cannot be generated.</p>
<h1>ERRORS</h1>
<p>No errors are defined.</p>
<h1>ATTRIBUTES</h1>
<p>For an explanation of the terms used in this section, see <strong>attributes</strong>(7).</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Attribute</td>
<td style="text-align: left;">Value</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>tmpnam</strong>()</td>
<td style="text-align: left;">Thread safety</td>
<td style="text-align: left;">MT-Unsafe race:tmpnam/!s</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>tmpnam_r</strong>()</td>
<td style="text-align: left;">Thread safety</td>
<td style="text-align: left;">MT-Safe</td>
</tr>
</tbody>
</table>
<h1>CONFORMING TO</h1>
<p><strong>tmpnam</strong>(): SVr4, 4.3BSD, C89, C99, POSIX.1-2001. POSIX.1-2008 marks <strong>tmpnam</strong>() as obsolete.</p>
<p><strong>tmpnam_r</strong>() is a nonstandard extension that is also available on a few other systems.</p>
<h1>NOTES</h1>
<p>The <strong>tmpnam</strong>() function generates a different string each time it is called, up to <strong>TMP_MAX</strong> times. If it is called more than <strong>TMP_MAX</strong> times, the behavior is implementation defined.</p>
<p>Although these functions generate names that are difficult to guess, it is nevertheless possible that between the time that the pathname is returned and the time that the program opens it, another program might create that pathname using <strong>open</strong>(2), or create it as a symbolic link. This can lead to security holes. To avoid such possibilities, use the <strong>open</strong>(2) <strong>O_EXCL</strong> flag to open the pathname. Or better yet, use <strong>mkstemp</strong>(3) or <strong>tmpfile</strong>(3).</p>
<p>Portable applications that use threads cannot call <strong>tmpnam</strong>() with a NULL argument if either <strong>_POSIX_THREADS</strong> or <strong>_POSIX_THREAD_SAFE_FUNCTIONS</strong> is defined.</p>
<h1>BUGS</h1>
<p>Never use these functions. Use <strong>mkstemp</strong>(3) or <strong>tmpfile</strong>(3) instead.</p>
<h1>SEE ALSO</h1>
<p><strong>mkstemp</strong>(3), <strong>mktemp</strong>(3), <strong>tempnam</strong>(3), <strong>tmpfile</strong>(3)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

