<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command ftell</title><meta name="description" content="Linux command ftell reposition a stream"><meta name="keywords" content="linux, command, ftell, bsd, reposition a stream"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>fgetpos, fseek, fsetpos, ftell, rewind - reposition a stream</p>
<h1>SYNOPSIS</h1>
<p><strong>#include &lt;stdio.h&gt;</strong></p>
<p><strong>int fseek(FILE *</strong><em>stream</em><strong>, long </strong><em>offset</em><strong>, int </strong><em>whence</em><strong>);</strong></p>
<p><strong>long ftell(FILE *</strong><em>stream</em><strong>);</strong></p>
<p><strong>void rewind(FILE *</strong><em>stream</em><strong>);</strong></p>
<p><strong>int fgetpos(FILE *</strong><em>stream</em><strong>, fpos_t *</strong><em>pos</em><strong>);</strong></p>
<p><strong>int fsetpos(FILE *</strong><em>stream</em><strong>, const fpos_t *</strong><em>pos</em><strong>);</strong></p>
<h1>DESCRIPTION</h1>
<p>The <strong>fseek</strong>() function sets the file position indicator for the stream pointed to by <em>stream</em>. The new position, measured in bytes, is obtained by adding <em>offset</em> bytes to the position specified by <em>whence</em>. If <em>whence</em> is set to <strong>SEEK_SET</strong>, <strong>SEEK_CUR</strong>, or <strong>SEEK_END</strong>, the offset is relative to the start of the file, the current position indicator, or end-of-file, respectively. A successful call to the <strong>fseek</strong>() function clears the end-of-file indicator for the stream and undoes any effects of the <strong>ungetc</strong>(3) function on the same stream.</p>
<p>The <strong>ftell</strong>() function obtains the current value of the file position indicator for the stream pointed to by <em>stream</em>.</p>
<p>The <strong>rewind</strong>() function sets the file position indicator for the stream pointed to by <em>stream</em> to the beginning of the file. It is equivalent to:</p>
<blockquote>
<p>(void) fseek(stream, 0L, SEEK_SET)</p>
</blockquote>
<p>except that the error indicator for the stream is also cleared (see <strong>clearerr</strong>(3)).</p>
<p>The <strong>fgetpos</strong>() and <strong>fsetpos</strong>() functions are alternate interfaces equivalent to <strong>ftell</strong>() and <strong>fseek</strong>() (with <em>whence</em> set to <strong>SEEK_SET</strong>), setting and storing the current value of the file offset into or from the object referenced by <em>pos</em>. On some non-UNIX systems, an <em>fpos_t</em> object may be a complex object and these routines may be the only way to portably reposition a text stream.</p>
<h1>RETURN VALUE</h1>
<p>The <strong>rewind</strong>() function returns no value. Upon successful completion, <strong>fgetpos</strong>(), <strong>fseek</strong>(), <strong>fsetpos</strong>() return 0, and <strong>ftell</strong>() returns the current offset. Otherwise, -1 is returned and <em>errno</em> is set to indicate the error.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EINVAL</strong></dt>
<dd><p>The <em>whence</em> argument to <strong>fseek</strong>() was not <strong>SEEK_SET</strong>, <strong>SEEK_END</strong>, or <strong>SEEK_CUR</strong>. Or: the resulting file offset would be negative.</p>
</dd>
<dt><strong>ESPIPE</strong></dt>
<dd><p>The file descriptor underlying <em>stream</em> is not seekable (e.g., it refers to a pipe, FIFO, or socket).</p>
</dd>
</dl>
<p>The functions <strong>fgetpos</strong>(), <strong>fseek</strong>(), <strong>fsetpos</strong>(), and <strong>ftell</strong>() may also fail and set <em>errno</em> for any of the errors specified for the routines <strong>fflush</strong>(3), <strong>fstat</strong>(2), <strong>lseek</strong>(2), and <strong>malloc</strong>(3).</p>
<h1>ATTRIBUTES</h1>
<p>For an explanation of the terms used in this section, see <strong>attributes</strong>(7).</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interface</td>
<td style="text-align: left;">Attribute</td>
<td style="text-align: left;">Value</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>fseek</strong>(), <strong>ftell</strong>(), <strong>rewind</strong>(),<br />
<strong>fgetpos</strong>(), <strong>fsetpos</strong>()</td>
<td style="text-align: left;">Thread safety</td>
<td style="text-align: left;">MT-Safe</td>
</tr>
</tbody>
</table>
<h1>CONFORMING TO</h1>
<p>POSIX.1-2001, POSIX.1-2008, C89, C99.</p>
<h1>SEE ALSO</h1>
<p><strong>lseek</strong>(2), <strong>fseeko</strong>(3)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

