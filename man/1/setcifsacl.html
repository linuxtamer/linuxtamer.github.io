<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command setcifsacl</title><meta name="description" content="Linux command setcifsacl Userspace helper to alter an ACL in a security descriptor for Common Internet File System (CIFS)"><meta name="keywords" content="linux, command, setcifsacl, bsd, Userspace helper to alter an ACL in a security descriptor for Common Internet File System (CIFS)"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>setcifsacl - Userspace helper to alter an ACL in a security descriptor for Common Internet File System (CIFS)</p>
<h1>SYNOPSIS</h1>
<blockquote>
<blockquote>
<p>setcifsacl [-v|-a|-D|-M|-S] "{one or more ACEs}" {file system object}</p>
</blockquote>
</blockquote>
<h1>DESCRIPTION</h1>
<p>This tool is part of the cifs-utils suite.</p>
<p><strong>setcifsacl</strong> is a userspace helper program for the Linux CIFS client file system. It is intended to alter an ACL of a security descriptor for a file system object. Whether a security descriptor to be set is applied or not is determined by the CIFS/SMB server.</p>
<p>This program uses a plugin to handle the mapping of user and group names to SIDs. <em>/etc/cifs-utils/idmap-plugin</em> should be a symlink that points to the correct plugin to use.</p>
<h1>OPTIONS</h1>
<blockquote>
<dl>
<dt><strong>-h</strong></dt>
<dd><p>Print usage message and exit.</p>
</dd>
<dt><strong>-v</strong></dt>
<dd><p>Print version number and exit.</p>
</dd>
<dt><strong>-a</strong></dt>
<dd><p>Add one or more ACEs to an ACL of a security descriptor. An ACE is added even if the same ACE exists in the ACL.</p>
</dd>
<dt><strong>-D</strong></dt>
<dd><p>Delete one or more ACEs from an ACL of a security descriptor. Entire ACE has to match in an existing ACL for the listed ACEs to be deleted.</p>
</dd>
<dt><strong>-M</strong></dt>
<dd><p>Modify one or more ACEs from an ACL of a security descriptor. SID and type are used to match for existing ACEs to be modified with the list of ACEs specified.</p>
</dd>
<dt><strong>-S</strong></dt>
<dd><p>Set an ACL of security descriptor with the list of ACEs Existing ACL is replaced entirely with the specified ACEs.</p>
</dd>
</dl>
<p>Every ACE entry starts with "ACL:" One or more ACEs are specified within double quotes. Multiple ACEs are separated by a comma.</p>
<p>Following fields of an ACE can be modified with possible values:</p>
<blockquote>
<ul>
<li><p><strong>SID</strong> - Either a name or a raw SID value.</p></li>
<li><p><strong>type</strong> - ALLOWED (0x0), DENIED (0x1), OBJECT_ALLOWED (0x5), OBJECT_DENIED (0x6)</p></li>
<li><p><strong>flags</strong> - OBJECT_INHERIT_FLAG (OI or 0x1), CONTAINER_INHERIT_FLAG (CI or 0x2), NO_PROPAGATE_INHERIT_FLAG (NI or 0x4), INHERIT_ONLY_FLAG (IO or 0x8), INHERITED_ACE_FLAG (IA or 0x10) or a combination/OR of these values.</p></li>
<li><p><strong>mask</strong> - Either one of FULL, CHANGE, READ, a combination of R W X D P O, or a hex value.</p></li>
</ul>
</blockquote>
</blockquote>
<h1>EXAMPLES</h1>
<h2>Add an ACE</h2>
<blockquote>
<blockquote>
<p>setcifsacl -a "ACL:CIFSTESTDOMuser2:DENIED/0x1/D" &lt;file_name&gt; setcifsacl -a "ACL:CIFSTESTDOMuser1:ALLOWED/OI|CI|NI/D" &lt;file_name&gt;</p>
</blockquote>
</blockquote>
<h2>Delete an ACE</h2>
<blockquote>
<blockquote>
<p>setcifsacl -D "ACL:S-1-1-0:0x1/OI/0x1201ff" &lt;file_name&gt;</p>
</blockquote>
</blockquote>
<h2>Modify an ACE</h2>
<blockquote>
<blockquote>
<p>setcifsacl -M "ACL:CIFSTESTDOMuser1:ALLOWED/0x1f/CHANGE" &lt;file_name&gt;</p>
</blockquote>
</blockquote>
<h2>Set an ACL</h2>
<blockquote>
<blockquote>
<p>setcifsacl -S "ACL:CIFSTESTDOMAdministrator:0x0/0x0/FULL,ACL:CIFSTESTDOMuser2:0x0/0x0/FULL" &lt;file_name&gt;</p>
</blockquote>
</blockquote>
<h1>NOTES</h1>
<p>Kernel support for getcifsacl/setcifsacl utilities was initially introduced in the 2.6.37 kernel.</p>
<h1>SEE ALSO</h1>
<p>mount.cifs(8), getcifsacl(1)</p>
<h1>AUTHOR</h1>
<p>Shirish Pargaonkar wrote the setcifsacl program.</p>
<p>The Linux CIFS Mailing list is the preferred place to ask questions regarding these programs.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

