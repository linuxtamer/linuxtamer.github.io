<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command cvtsudoers</title><meta name="description" content="Linux command cvtsudoers convert between sudoers file formats"><meta name="keywords" content="linux, command, cvtsudoers, bsd, convert between sudoers file formats"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<p>can be used to convert between</p>
<p>security policy file formats. The default input format is sudoers. The default output format is LDIF. It is only possible to convert a</p>
<p>file that is syntactically correct.</p>
<p>If no</p>
<p>is specified, or if it is</p>
<p>the policy is read from the standard input. By default, the result is written to the standard output.</p>
<p>The options are as follows:</p>
<p>The base DN (distinguished name) that will be used when performing LDAP queries. Typically this is of the form</p>
<p>for the domain</p>
<p>If this option is not specified, the value of the</p>
<p>environment variable will be used instead. Only necessary when converting to LDIF format.</p>
<p>Specify the path to the configuration file. Defaults to</p>
<p>Only convert</p>
<p>entries of the specified types. One or more</p>
<p>types may be specified, separated by a comma</p>
<p>The supported types are:</p>
<p>All Defaults entries.</p>
<p>Global Defaults entries that are applied regardless of user, runas, host or command.</p>
<p>Per-user Defaults entries.</p>
<p>Per-runas user Defaults entries.</p>
<p>Per-host Defaults entries.</p>
<p>Per-command Defaults entries.</p>
<p>See the</p>
<p>section in</p>
<p>for more information.</p>
<p>If the</p>
<p>option is not specified, all</p>
<p>entries will be converted.</p>
<p>Expand aliases in</p>
<p>Aliases are preserved by default when the output</p>
<p>is JSON or sudoers.</p>
<p>Specify the output format (case-insensitive). The following formats are supported:</p>
<p>JSON (JavaScript Object Notation) files are usually easier for third-party applications to consume than the traditional</p>
<p>format. The various values have explicit types which removes much of the ambiguity of the</p>
<p>format.</p>
<p>LDIF (LDAP Data Interchange Format) files can be imported into an LDAP server for use with</p>
<p>Conversion to LDIF has the following limitations:</p>
<p>Command, host, runas and user-specific Defaults lines cannot be translated as they don't have an equivalent in the sudoers LDAP schema.</p>
<p>Command, host, runas and user aliases are not supported by the sudoers LDAP schema so they are expanded during the conversion.</p>
<p>Traditional sudoers format. A new sudoers file will be reconstructed from the parsed input file. Comments are not preserved and data from any include files will be output inline.</p>
<p>Display a short help message to the standard output and exit.</p>
<p>Specify the input format. The following formats are supported:</p>
<p>LDIF (LDAP Data Interchange Format) files can be exported from an LDAP server to convert security policies used by</p>
<p>If a base DN (distinguished name) is specified, only sudoRole objects that match the base DN will be processed. Not all sudoOptions specified in a sudoRole can be translated from LDIF to sudoers format.</p>
<p>Traditional sudoers format. This is the default input format.</p>
<p>When generating LDIF output, increment each sudoOrder attribute by the specified number. Defaults to an increment of 1.</p>
<p>Only output rules that match the specified</p>
<p>A</p>
<p>expression is made up of one or more</p>
<p>pairs, separated by a comma</p>
<p>The</p>
<p>may be</p>
<p>or</p>
<p>For example,</p>
<p>or</p>
<p>An upper-case User_Alias or Host_Alias may be specified as the</p>
<p>or</p>
<p>A matching</p>
<p>rule may also include users, groups and hosts that are not part of the</p>
<p>This can happen when a rule includes multiple users, groups or hosts. To prune out any non-matching user, group or host from the rules, the</p>
<p>option may be used.</p>
<p>By default, the password and group databases are not consulted when matching against the filter so the users and groups do not need to be present on the local system (see the</p>
<p>option). Only aliases that are referenced by the filtered policy rules will be displayed.</p>
<p>When the</p>
<p>option is also specified, use password and group database information when matching users and groups in the filter. Only users and groups in the filter that exist on the local system will match, and a user's groups will automatically be added to the filter. If the</p>
<p>is</p>
<p>specified, users and groups in the filter do not need to exist on the local system, but all groups used for matching must be explicitly listed in the filter.</p>
<p>Write the converted output to</p>
<p>If no</p>
<p>is specified, or if it is</p>
<p>the converted</p>
<p>policy will be written to the standard output.</p>
<p>When generating LDIF output, use the number specified by</p>
<p>in the sudoOrder attribute of the first sudoRole object. Subsequent sudoRole object use a sudoOrder value generated by adding an</p>
<p>see the</p>
<p>option for details. Defaults to a starting point of 1. A starting point of 0 will disable the generation of sudoOrder attributes in the resulting LDIF file.</p>
<p>When the</p>
<p>option is also specified,</p>
<p>will prune out non-matching users, groups and hosts from matching entries.</p>
<p>When generating LDIF output, construct the initial sudoOrder value by concatenating</p>
<p>and</p>
<p>padding the</p>
<p>with zeros until it consists of</p>
<p>digits. For example, if</p>
<p>is 1027,</p>
<p>is 3, and</p>
<p>is 1, the value of sudoOrder for the first entry will be 1027000, followed by 1027001, 1027002, etc. If the number of sudoRole entries is larger than the padding would allow,</p>
<p>will exit with an error. By default, no padding is performed.</p>
<p>Suppress the output of specific</p>
<p>of the security policy. One or more section names may be specified, separated by a comma</p>
<p>The supported section name are:</p>
<p>and</p>
<p>(which may be shortened to</p>
<p>Print the</p>
<p>and</p>
<p>grammar versions and exit.</p>
<p>Options in the form</p>
<p>may also be specified in a configuration file,</p>
<p>by default. The following keywords are recognized:</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>See the description of the</p>
<p>command line option.</p>
<p>Options on the command line will override values from the configuration file.</p>
<p>default configuration for cvtsudoers</p>
<p>Convert</p>
<p>to LDIF (LDAP Data Interchange Format) where the</p>
<p>file uses a</p>
<p>of my-domain,dc=com, storing the result in</p>
<p>$ cvtsudoers -b ou=SUDOers,dc=my-domain,dc=com -o sudoers.ldif \ /etc/sudoers</p>
<p>Convert</p>
<p>to JSON format, storing the result in</p>
<p>$ cvtsudoers -f json -o sudoers.json /etc/sudoers</p>
<p>Parse</p>
<p>and display only rules that match user</p>
<p>on host</p>
<p>$ cvtsudoers -f sudoers -m user=ambrose,host=hastur /etc/sudoers</p>
<p>Same as above, but expand aliases and prune out any non-matching users and hosts from the expanded entries.</p>
<p>$ cvtsudoers -ep -f sudoers -m user=ambrose,host=hastur /etc/sudoers</p>
<p>Convert</p>
<p>from LDIF to traditional</p>
<p>format:</p>
<p>$ cvtsudoers -i ldif -f sudoers -o sudoers.new sudoers.ldif</p>
<p>Many people have worked on</p>
<p>over the years; this version consists of code written primarily by:</p>
<p>See the CONTRIBUTORS file in the</p>
<p>distribution (https://www.sudo.ws/contributors.html) for an exhaustive list of people who have contributed to</p>
<p>If you feel you have found a bug in</p>
<p>please submit a bug report at https://bugzilla.sudo.ws/</p>
<p>Limited free support is available via the sudo-users mailing list, see https://www.sudo.ws/mailman/listinfo/sudo-users to subscribe or search the archives.</p>
<p>is provided</p>
<p>and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. See the LICENSE file distributed with</p>
<p>or https://www.sudo.ws/license.html for complete details.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

