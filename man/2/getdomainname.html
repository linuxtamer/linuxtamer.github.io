<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command getdomainname</title><meta name="description" content="Linux command getdomainname get/set NIS domain name"><meta name="keywords" content="linux, command, getdomainname, bsd, get/set NIS domain name"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>getdomainname, setdomainname - get/set NIS domain name</p>
<h1>SYNOPSIS</h1>
<p><strong>#include &lt;unistd.h&gt;</strong></p>
<p><strong>int getdomainname(char *</strong><em>name</em><strong>, size_t </strong><em>len</em><strong>);</strong><br />
<strong>int setdomainname(const char *</strong><em>name</em><strong>, size_t </strong><em>len</em><strong>);</strong></p>
<blockquote>
<p>Feature Test Macro Requirements for glibc (see <strong>feature_test_macros</strong>(7)):</p>
</blockquote>
<p><strong>getdomainname</strong>(), <strong>setdomainname</strong>():</p>
<pre><code>    Since glibc 2.21:
        _DEFAULT_SOURCE
    In glibc 2.19 and 2.20:
        _DEFAULT_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)
    Up to and including glibc 2.19:
        _BSD_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)</code></pre>
<h1>DESCRIPTION</h1>
<p>These functions are used to access or to change the NIS domain name of the host system. More precisely, they operate on the NIS domain name associated with the calling process's UTS namespace.</p>
<p><strong>setdomainname</strong>() sets the domain name to the value given in the character array <em>name</em>. The <em>len</em> argument specifies the number of bytes in <em>name</em>. (Thus, <em>name</em> does not require a terminating null byte.)</p>
<p><strong>getdomainname</strong>() returns the null-terminated domain name in the character array <em>name</em>, which has a length of <em>len</em> bytes. If the null-terminated domain name requires more than <em>len</em> bytes, <strong>getdomainname</strong>() returns the first <em>len</em> bytes (glibc) or gives an error (libc).</p>
<h1>RETURN VALUE</h1>
<p>On success, zero is returned. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<p><strong>setdomainname</strong>() can fail with the following errors:</p>
<dl>
<dt><strong>EFAULT</strong></dt>
<dd><p><em>name</em> pointed outside of user address space.</p>
</dd>
<dt><strong>EINVAL</strong></dt>
<dd><p><em>len</em> was negative or too large.</p>
</dd>
<dt><strong>EPERM</strong></dt>
<dd><p>The caller did not have the <strong>CAP_SYS_ADMIN</strong> capability in the user namespace associated with its UTS namespace (see <strong>namespaces</strong>(7)).</p>
</dd>
</dl>
<p><strong>getdomainname</strong>() can fail with the following errors:</p>
<dl>
<dt><strong>EINVAL</strong></dt>
<dd><p>For <strong>getdomainname</strong>() under libc: <em>name</em> is NULL or <em>name</em> is longer than <em>len</em> bytes.</p>
</dd>
</dl>
<h1>CONFORMING TO</h1>
<p>POSIX does not specify these calls.</p>
<h1>NOTES</h1>
<p>Since Linux 1.0, the limit on the length of a domain name, including the terminating null byte, is 64 bytes. In older kernels, it was 8 bytes.</p>
<p>On most Linux architectures (including x86), there is no <strong>getdomainname</strong>() system call; instead, glibc implements <strong>getdomainname</strong>() as a library function that returns a copy of the <em>domainname</em> field returned from a call to <strong>uname</strong>(2).</p>
<h1>SEE ALSO</h1>
<p><strong>gethostname</strong>(2), <strong>sethostname</strong>(2), <strong>uname</strong>(2), <strong>uts_namespaces</strong>(7)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

