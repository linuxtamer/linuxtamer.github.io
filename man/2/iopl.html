<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command iopl</title><meta name="description" content="Linux command iopl change I/O privilege level"><meta name="keywords" content="linux, command, iopl, bsd, change I/O privilege level"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>iopl - change I/O privilege level</p>
<h1>SYNOPSIS</h1>
<p><strong>#include &lt;sys/io.h&gt;</strong></p>
<p><strong>int iopl(int </strong><em>level</em><strong>);</strong></p>
<h1>DESCRIPTION</h1>
<p><strong>iopl</strong>() changes the I/O privilege level of the calling thread, as specified by the two least significant bits in <em>level</em>.</p>
<p>The I/O privilege level for a normal thread is 0. Permissions are inherited from parents to children.</p>
<p>This call is deprecated, is significantly slower than <strong>ioperm</strong>(2), and is only provided for older X servers which require access to all 65536 I/O ports. It is mostly for the i386 architecture. On many other architectures it does not exist or will always return an error.</p>
<h1>RETURN VALUE</h1>
<p>On success, zero is returned. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EINVAL</strong></dt>
<dd><p><em>level</em> is greater than 3.</p>
</dd>
<dt><strong>ENOSYS</strong></dt>
<dd><p>This call is unimplemented.</p>
</dd>
<dt><strong>EPERM</strong></dt>
<dd><p>The calling thread has insufficient privilege to call <strong>iopl</strong>(); the <strong>CAP_SYS_RAWIO</strong> capability is required to raise the I/O privilege level above its current value.</p>
</dd>
</dl>
<h1>CONFORMING TO</h1>
<p><strong>iopl</strong>() is Linux-specific and should not be used in programs that are intended to be portable.</p>
<h1>NOTES</h1>
<p>Glibc2 has a prototype both in <em>&lt;sys/io.h&gt;</em> and in <em>&lt;sys/perm.h&gt;</em>. Avoid the latter, it is available on i386 only.</p>
<p>Prior to Linux 5.5 <strong>iopl</strong>() allowed the thread to disable interrupts while running at a higher I/O privilege level. This will probably crash the system, and is not recommended.</p>
<p>Prior to Linux 3.7, on some architectures (such as i386), permissions <em>were</em> inherited by the child produced by <strong>fork</strong>(2) and were preserved across <strong>execve</strong>(2). This behavior was inadvertently changed in Linux 3.7, and won't be reinstated.</p>
<h1>SEE ALSO</h1>
<p><strong>ioperm</strong>(2), <strong>outb</strong>(2), <strong>capabilities</strong>(7)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

