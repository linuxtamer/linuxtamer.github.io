<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command getpeername</title><meta name="description" content="Linux command getpeername get name of connected peer socket"><meta name="keywords" content="linux, command, getpeername, bsd, get name of connected peer socket"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>getpeername - get name of connected peer socket</p>
<h1>SYNOPSIS</h1>
<p><strong>#include &lt;sys/socket.h&gt;</strong></p>
<p><strong>int getpeername(int </strong><em>sockfd</em><strong>, struct sockaddr *</strong><em>addr</em><strong>",</strong><em>socklen_t</em><strong>*"</strong><em>addrlen</em><strong>);</strong></p>
<h1>DESCRIPTION</h1>
<p><strong>getpeername</strong>() returns the address of the peer connected to the socket <em>sockfd</em>, in the buffer pointed to by <em>addr</em>. The <em>addrlen</em> argument should be initialized to indicate the amount of space pointed to by <em>addr</em>. On return it contains the actual size of the name returned (in bytes). The name is truncated if the buffer provided is too small.</p>
<p>The returned address is truncated if the buffer provided is too small; in this case, <em>addrlen</em> will return a value greater than was supplied to the call.</p>
<h1>RETURN VALUE</h1>
<p>On success, zero is returned. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EBADF</strong></dt>
<dd><p>The argument <em>sockfd</em> is not a valid file descriptor.</p>
</dd>
<dt><strong>EFAULT</strong></dt>
<dd><p>The <em>addr</em> argument points to memory not in a valid part of the process address space.</p>
</dd>
<dt><strong>EINVAL</strong></dt>
<dd><p><em>addrlen</em> is invalid (e.g., is negative).</p>
</dd>
<dt><strong>ENOBUFS</strong></dt>
<dd><p>Insufficient resources were available in the system to perform the operation.</p>
</dd>
<dt><strong>ENOTCONN</strong></dt>
<dd><p>The socket is not connected.</p>
</dd>
<dt><strong>ENOTSOCK</strong></dt>
<dd><p>The file descriptor <em>sockfd</em> does not refer to a socket.</p>
</dd>
</dl>
<h1>CONFORMING TO</h1>
<p>POSIX.1-2001, POSIX.1-2008, SVr4, 4.4BSD (<strong>getpeername</strong>() first appeared in 4.2BSD).</p>
<h1>NOTES</h1>
<p>For background on the <em>socklen_t</em> type, see <strong>accept</strong>(2).</p>
<p>For stream sockets, once a <strong>connect</strong>(2) has been performed, either socket can call <strong>getpeername</strong>() to obtain the address of the peer socket. On the other hand, datagram sockets are connectionless. Calling <strong>connect</strong>(2) on a datagram socket merely sets the peer address for outgoing datagrams sent with <strong>write</strong>(2) or <strong>recv</strong>(2). The caller of <strong>connect</strong>(2) can use <strong>getpeername</strong>() to obtain the peer address that it earlier set for the socket. However, the peer socket is unaware of this information, and calling <strong>getpeername</strong>() on the peer socket will return no useful information (unless a <strong>connect</strong>(2) call was also executed on the peer). Note also that the receiver of a datagram can obtain the address of the sender when using <strong>recvfrom</strong>(2).</p>
<h1>SEE ALSO</h1>
<p><strong>accept</strong>(2), <strong>bind</strong>(2), <strong>getsockname</strong>(2), <strong>ip</strong>(7), <strong>socket</strong>(7), <strong>unix</strong>(7)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

