<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command ustat</title><meta name="description" content="Linux command ustat get filesystem statistics"><meta name="keywords" content="linux, command, ustat, bsd, get filesystem statistics"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>ustat - get filesystem statistics</p>
<h1>SYNOPSIS</h1>
<pre><code>#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt; /* libc[45] */
#include &lt;ustat.h&gt; /* glibc2 */

int ustat(dev_t dev, struct ustat *ubuf);</code></pre>
<h1>DESCRIPTION</h1>
<p><strong>ustat</strong>() returns information about a mounted filesystem. <em>dev</em> is a device number identifying a device containing a mounted filesystem. <em>ubuf</em> is a pointer to a <em>ustat</em> structure that contains the following members:</p>
<pre><code>daddr_t f_tfree;      /* Total free blocks */
ino_t   f_tinode;     /* Number of free inodes */
char    f_fname[6];   /* Filsys name */
char    f_fpack[6];   /* Filsys pack name */</code></pre>
<p>The last two fields, <em>f_fname</em> and <em>f_fpack</em>, are not implemented and will always be filled with null bytes ('\0').</p>
<h1>RETURN VALUE</h1>
<p>On success, zero is returned and the <em>ustat</em> structure pointed to by <em>ubuf</em> will be filled in. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EFAULT</strong></dt>
<dd><p><em>ubuf</em> points outside of your accessible address space.</p>
</dd>
<dt><strong>EINVAL</strong></dt>
<dd><p><em>dev</em> does not refer to a device containing a mounted filesystem.</p>
</dd>
<dt><strong>ENOSYS</strong></dt>
<dd><p>The mounted filesystem referenced by <em>dev</em> does not support this operation, or any version of Linux before 1.3.16.</p>
</dd>
</dl>
<h1>VERSIONS</h1>
<p>Since version 2.28, glibc no longer provides a wrapper for this system call.</p>
<h1>CONFORMING TO</h1>
<p>SVr4.</p>
<h1>NOTES</h1>
<p><strong>ustat</strong>() is deprecated and has been provided only for compatibility. All new programs should use <strong>statfs</strong>(2) instead.</p>
<h2>HP-UX notes</h2>
<p>The HP-UX version of the <em>ustat</em> structure has an additional field, <em>f_blksize</em>, that is unknown elsewhere. HP-UX warns: For some filesystems, the number of free inodes does not change. Such filesystems will return -1 in the field <em>f_tinode</em>. For some filesystems, inodes are dynamically allocated. Such filesystems will return the current number of free inodes.</p>
<h1>SEE ALSO</h1>
<p><strong>stat</strong>(2), <strong>statfs</strong>(2)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

