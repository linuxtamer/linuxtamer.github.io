<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command mmap2</title><meta name="description" content="Linux command mmap2 map files or devices into memory"><meta name="keywords" content="linux, command, mmap2, bsd, map files or devices into memory"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>mmap2 - map files or devices into memory</p>
<h1>SYNOPSIS</h1>
<pre><code>#include &lt;sys/mman.h&gt;

void *mmap2(void *addr, size_t length, int prot,
 int flags, int fd, off_t pgoffset);</code></pre>
<h1>DESCRIPTION</h1>
<p>This is probably not the system call that you are interested in; instead, see <strong>mmap</strong>(2), which describes the glibc wrapper function that invokes this system call.</p>
<p>The <strong>mmap2</strong>() system call provides the same interface as <strong>mmap</strong>(2), except that the final argument specifies the offset into the file in 4096-byte units (instead of bytes, as is done by <strong>mmap</strong>(2)). This enables applications that use a 32-bit <em>off_t</em> to map large files (up to 2^44 bytes).</p>
<h1>RETURN VALUE</h1>
<p>On success, <strong>mmap2</strong>() returns a pointer to the mapped area. On error, -1 is returned and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EFAULT</strong></dt>
<dd><p>Problem with getting the data from user space.</p>
</dd>
<dt><strong>EINVAL</strong></dt>
<dd><p>(Various platforms where the page size is not 4096 bytes.) <em>offset * 4096</em> is not a multiple of the system page size.</p>
</dd>
</dl>
<p><strong>mmap2</strong>() can also return any of the errors described in <strong>mmap</strong>(2).</p>
<h1>VERSIONS</h1>
<p><strong>mmap2</strong>() is available since Linux 2.3.31.</p>
<h1>CONFORMING TO</h1>
<p>This system call is Linux-specific.</p>
<h1>NOTES</h1>
<p>On architectures where this system call is present, the glibc <strong>mmap</strong>() wrapper function invokes this system call rather than the <strong>mmap</strong>(2) system call.</p>
<p>This system call does not exist on x86-64.</p>
<p>On ia64, the unit for <em>offset</em> is actually the system page size, rather than 4096 bytes.</p>
<h1>SEE ALSO</h1>
<p><strong>getpagesize</strong>(2), <strong>mmap</strong>(2), <strong>mremap</strong>(2), <strong>msync</strong>(2), <strong>shm_open</strong>(3)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

