<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command lookup_dcookie</title><meta name="description" content="Linux command lookup_dcookie return a directory entry's path"><meta name="keywords" content="linux, command, lookup_dcookie, bsd, return a directory entry's path"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>lookup_dcookie - return a directory entry's path</p>
<h1>SYNOPSIS</h1>
<p><strong>int lookup_dcookie(u64 </strong><em>cookie</em><strong>, char *</strong><em>buffer</em><strong>, size_t </strong><em>len</em><strong>);</strong></p>
<h1>DESCRIPTION</h1>
<p>Look up the full path of the directory entry specified by the value <em>cookie</em>. The cookie is an opaque identifier uniquely identifying a particular directory entry. The buffer given is filled in with the full path of the directory entry.</p>
<p>For <strong>lookup_dcookie</strong>() to return successfully, the kernel must still hold a cookie reference to the directory entry.</p>
<h1>RETURN VALUE</h1>
<p>On success, <strong>lookup_dcookie</strong>() returns the length of the path string copied into the buffer. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<h1>ERRORS</h1>
<dl>
<dt><strong>EFAULT</strong></dt>
<dd><p>The buffer was not valid.</p>
</dd>
<dt><strong>EINVAL</strong></dt>
<dd><p>The kernel has no registered cookie/directory entry mappings at the time of lookup, or the cookie does not refer to a valid directory entry.</p>
</dd>
<dt><strong>ENAMETOOLONG</strong></dt>
<dd><p>The name could not fit in the buffer.</p>
</dd>
<dt><strong>ENOMEM</strong></dt>
<dd><p>The kernel could not allocate memory for the temporary buffer holding the path.</p>
</dd>
<dt><strong>EPERM</strong></dt>
<dd><p>The process does not have the capability <strong>CAP_SYS_ADMIN</strong> required to look up cookie values.</p>
</dd>
<dt><strong>ERANGE</strong></dt>
<dd><p>The buffer was not large enough to hold the path of the directory entry.</p>
</dd>
</dl>
<h1>VERSIONS</h1>
<p>Available since Linux 2.5.43. The <strong>ENAMETOOLONG</strong> error return was added in 2.5.70.</p>
<h1>CONFORMING TO</h1>
<p><strong>lookup_dcookie</strong>() is Linux-specific.</p>
<h1>NOTES</h1>
<p><strong>lookup_dcookie</strong>() is a special-purpose system call, currently used only by the <strong>oprofile</strong>(1) profiler. It relies on a kernel driver to register cookies for directory entries.</p>
<p>The path returned may be suffixed by the string " (deleted)" if the directory entry has been removed.</p>
<h1>SEE ALSO</h1>
<p><strong>oprofile</strong>(1)</p>
<h1>COLOPHON</h1>
<p>This page is part of release 5.10 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

