<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command dhcpcd-run-hooks</title><meta name="description" content="Linux command dhcpcd-run-hooks DHCP client configuration script"><meta name="keywords" content="linux, command, dhcpcd-run-hooks, bsd, DHCP client configuration script"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<p>is used by</p>
<p>to run any system and user defined hook scripts. System hook scripts are found in</p>
<p>and the user defined hooks are</p>
<p>and</p>
<p>The default install supplies hook scripts for configuring</p>
<p>and the hostname. Your distribution may have included other hook scripts to say configure ntp or ypbind. A test hook is also supplied that simply echos the dhcp variables to the console from DISCOVER message.</p>
<p>The hooks scripts are loaded into the current shell rather than executed in their own process. This allows each hook script, such as</p>
<p>to customise environment variables or provide alternative functions to hooks further down the chain. As such, using the shell builtins</p>
<p>or similar will cause</p>
<p>to exit at that point.</p>
<p>Each time</p>
<p>is invoked,</p>
<p>is set to the interface that</p>
<p>is run on and</p>
<p>is to the reason why</p>
<p>was invoked. DHCP information to be configured is held in variables starting with the word new_ and old DHCP information to be removed is held in variables starting with the word old_.</p>
<p>can display the full list of variables it knows how about by using the</p>
<p>argument.</p>
<p>Here's a list of reasons why</p>
<p>could be invoked:</p>
<p>dhcpcd is starting up and any pre-initialisation should be done.</p>
<p>dhcpcd has detected the carrier is up. This is generally just a notification and no action need be taken.</p>
<p>dhcpcd lost the carrier. The cable may have been unplugged or association to the wireless point lost.</p>
<p>dhcpcd informed a DHCP server about it's address and obtained other configuration details.</p>
<p>dhcpcd obtained a new lease from a DHCP server.</p>
<p>dhcpcd renewed it's lease.</p>
<p>dhcpcd has rebound to a new DHCP server.</p>
<p>dhcpcd successfully requested a lease from a DHCP server.</p>
<p>dhcpcd assigned a delegated prefix to the interface.</p>
<p>dhcpcd obtained an IPV4LL address, or one was removed.</p>
<p>dhcpcd has been configured with a static configuration which has not been obtained from a DHCP server.</p>
<p>dhcpcd is monitoring the interface for a 3rd party to give it an IP address.</p>
<p>dhcpcd failed to contact any DHCP servers but was able to use an old lease.</p>
<p>dhcpcd's lease or state expired and it failed to obtain a new one.</p>
<p>dhcpcd received a NAK from the DHCP server. This should be treated as EXPIRE.</p>
<p>dhcpcd has been instructed to reconfigure an interface.</p>
<p>dhcpcd has received an IPv6 Router Advertisement, or one has expired.</p>
<p>dhcpcd stopped running on the interface.</p>
<p>dhcpcd has stopped entirely.</p>
<p>The interface has been removed.</p>
<p>dhcpcd failed to operate on the interface. This normally happens when dhcpcd does not support the raw interface, which means it cannot work as a DHCP or ZeroConf client. Static configuration and DHCP INFORM is still allowed.</p>
<p>dhcpcd has been asked to dump the last lease for the interface.</p>
<p>dhcpcd received an OFFER from a DHCP server but will not configure the interface. This is primarily used to test the variables are filled correctly for the script to process them.</p>
<p>will clear the environment variables aside from</p>
<p>and</p>
<p>The following variables will then be set, along with any protocol supplied ones.</p>
<p>the name of the interface.</p>
<p>the protocol that triggered the event.</p>
<p>as described above.</p>
<p>the pid of</p>
<p>the link status of</p>
<p>or</p>
<p>preference, lower is better.</p>
<p>is wireless, otherwise</p>
<p>flags.</p>
<p>MTU.</p>
<p>the name of the SSID the</p>
<p>is connected to.</p>
<p>A list of interfaces, in order of preference.</p>
<p>if the</p>
<p>is up, otherwise</p>
<p>if the</p>
<p>is down, otherwise</p>
<p>Address family waiting for, as defined in</p>
<p>the name of the profile selected from</p>
<p>space separated list of delegated prefixes.</p>
<p>When</p>
<p>runs, it loads</p>
<p>and any scripts found in</p>
<p>in a lexical order and then finally</p>
<p>Please report them to</p>
<p>will validate the content of each option against its encoding. For string, ascii, raw or binhex encoding it's up to the user to validate it for the intended purpose.</p>
<p>When used in a shell script, each variable must be quoted correctly.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

