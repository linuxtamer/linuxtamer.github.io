<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command pam_localuser</title><meta name="description" content="Linux command pam_localuser require users to be listed in /etc/passwd"><meta name="keywords" content="linux, command, pam_localuser, bsd, require users to be listed in /etc/passwd"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>pam_localuser - require users to be listed in /etc/passwd</p>
<h1>SYNOPSIS</h1>
<p><strong>pam_localuser.so</strong> [debug] [file=<em>/path/passwd</em>]</p>
<h1>DESCRIPTION</h1>
<p>pam_localuser is a PAM module to help implementing site-wide login policies, where they typically include a subset of the networks users and a few accounts that are local to a particular workstation. Using pam_localuser and pam_wheel or pam_listfile is an effective way to restrict access to either local users and/or a subset of the networks users.</p>
<p>This could also be implemented using pam_listfile.so and a very short awk script invoked by cron, but its common enough to have been separated out.</p>
<h1>OPTIONS</h1>
<p><strong>debug</strong></p>
<blockquote>
<p>Print debug information.</p>
</blockquote>
<p><strong>file=</strong><em>/path/passwd</em></p>
<blockquote>
<p>Use a file other than /etc/passwd.</p>
</blockquote>
<h1>MODULE TYPES PROVIDED</h1>
<p>All module types (<strong>account</strong>, <strong>auth</strong>, <strong>password</strong> and <strong>session</strong>) are provided.</p>
<h1>RETURN VALUES</h1>
<p>PAM_SUCCESS</p>
<blockquote>
<p>The new localuser was set successfully.</p>
</blockquote>
<p>PAM_BUF_ERR</p>
<blockquote>
<p>Memory buffer error.</p>
</blockquote>
<p>PAM_CONV_ERR</p>
<blockquote>
<p>The conversation method supplied by the application failed to obtain the username.</p>
</blockquote>
<p>PAM_INCOMPLETE</p>
<blockquote>
<p>The conversation method supplied by the application returned PAM_CONV_AGAIN.</p>
</blockquote>
<p>PAM_SERVICE_ERR</p>
<blockquote>
<p>The user name is not valid or the passwd file is unavailable.</p>
</blockquote>
<p>PAM_PERM_DENIED</p>
<blockquote>
<p>The user is not listed in the passwd file.</p>
</blockquote>
<h1>EXAMPLES</h1>
<p>Add the following lines to /etc/pam.d/su to allow only local users or group wheel to use su.</p>
<blockquote>
<pre><code>account sufficient pam_localuser.so
account required pam_wheel.so
      </code></pre>
</blockquote>
<h1>FILES</h1>
<p>/etc/passwd</p>
<blockquote>
<p>Local user account information.</p>
</blockquote>
<h1>SEE ALSO</h1>
<p><strong>pam.conf</strong>(5), <strong>pam.d</strong>(5), <strong>pam</strong>(7)</p>
<h1>AUTHOR</h1>
<p>pam_localuser was written by Nalin Dahyabhai &lt;nalin@redhat.com&gt;.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

