<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command visudo</title><meta name="description" content="Linux command visudo edit the sudoers file"><meta name="keywords" content="linux, command, visudo, bsd, edit the sudoers file"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<p>edits the</p>
<p>file in a safe fashion, analogous to</p>
<p>locks the</p>
<p>file against multiple simultaneous edits, performs basic validity checks, and checks for syntax errors before installing the edited file. If the</p>
<p>file is currently being edited you will receive a message to try again later.</p>
<p>parses the</p>
<p>file after editing and will not save the changes if there is a syntax error. Upon finding an error,</p>
<p>will print a message stating the line number(s) where the error occurred and the user will receive the</p>
<p>prompt. At this point the user may enter</p>
<p>to re-edit the</p>
<p>file,</p>
<p>to exit without saving the changes, or</p>
<p>to quit and save changes. The</p>
<p>option should be used with extreme caution because if</p>
<p>believes there to be a syntax error, so will</p>
<p>and no one will be able to run</p>
<p>again until the error is fixed. If</p>
<p>is typed to edit the</p>
<p>file after a syntax error has been detected, the cursor will be placed on the line where the error occurred (if the editor supports this feature).</p>
<p>There are two</p>
<p>settings that determine which editor</p>
<p>will run.</p>
<p>A colon</p>
<p>separated list of editors allowed to be used with</p>
<p>will choose the editor that matches the user's</p>
<p>or</p>
<p>environment variable if possible, or the first editor in the list that exists and is executable. Note that</p>
<p>does not preserve the</p>
<p>or</p>
<p>environment variables unless they are present in the</p>
<p>list or the</p>
<p>option is disabled in the</p>
<p>file. The default editor path is</p>
<p>which can be set at compile time via the</p>
<p>configure option.</p>
<p>If set,</p>
<p>will use the value of the</p>
<p>or</p>
<p>environment variables before falling back on the default editor list. Note that</p>
<p>is typically run as root so this option may allow a user with</p>
<p>privileges to run arbitrary commands as root without logging. An alternative is to place a colon-separated list of</p>
<p>editors int the</p>
<p>variable.</p>
<p>will then only use</p>
<p>or</p>
<p>if they match a value specified in</p>
<p>If the</p>
<p>flag is enabled, the</p>
<p>and/or</p>
<p>environment variables must be present in the</p>
<p>list for the</p>
<p>flag to function when</p>
<p>is invoked via</p>
<p>The default value is</p>
<p>which can be set at compile time via the</p>
<p>configure option.</p>
<p>The options are as follows:</p>
<p>Enable</p>
<p>mode. The existing</p>
<p>file (and any other files it includes) will be checked for syntax errors. If the path to the</p>
<p>file was not specified,</p>
<p>will also check the file owner and mode. A message will be printed to the standard output describing the status of</p>
<p>unless the</p>
<p>option was specified. If the check completes successfully,</p>
<p>will exit with a value of 0. If an error is encountered,</p>
<p>will exit with a value of 1.</p>
<p>Specify an alternate</p>
<p>file location, see below. As of version 1.8.27, the</p>
<p>path can be specified without using the</p>
<p>option.</p>
<p>Display a short help message to the standard output and exit.</p>
<p>Enable</p>
<p>mode. In this mode details about syntax errors are not printed. This option is only useful when combined with the</p>
<p>option.</p>
<p>Enable</p>
<p>checking of the</p>
<p>file. If an alias is referenced but not actually defined or if there is a cycle in an alias,</p>
<p>will consider this a syntax error. Note that it is not possible to differentiate between an alias and a host name or user name that consists solely of uppercase letters, digits, and the underscore</p>
<p>character.</p>
<p>Print the</p>
<p>and</p>
<p>grammar versions and exit.</p>
<p>A</p>
<p>file may be specified instead of the default,</p>
<p>The temporary file used is the specified</p>
<p>file with</p>
<p>appended to it. In</p>
<p>mode only,</p>
<p>may be used to indicate that</p>
<p>will be read from the standard input. Because the policy is evaluated in its entirety, it is not sufficient to check an individual</p>
<p>include file for syntax errors.</p>
<p>versions 1.8.4 and higher support a flexible debugging framework that is configured via</p>
<p>lines in the</p>
<p>file.</p>
<p>Starting with</p>
<p>1.8.12,</p>
<p>will also parse the arguments to the</p>
<p>plugin to override the default</p>
<p>path name, UID, GID and file mode. These arguments, if present, should be listed after the path to the plugin (i.e., after</p>
<p>Multiple arguments may be specified, separated by white space. For example:</p>
<p>Plugin sudoers_policy sudoers.so sudoers_mode=0400</p>
<p>The following arguments are supported:</p>
<p>The</p>
<p>argument can be used to override the default path to the</p>
<p>file.</p>
<p>The</p>
<p>argument can be used to override the default owner of the sudoers file. It should be specified as a numeric user-ID.</p>
<p>The</p>
<p>argument can be used to override the default group of the sudoers file. It must be specified as a numeric group-ID (not a group name).</p>
<p>The</p>
<p>argument can be used to override the default file mode for the sudoers file. It should be specified as an octal value.</p>
<p>For more information on configuring</p>
<p>please refer to its manual.</p>
<p>The following environment variables may be consulted depending on the value of the</p>
<p>and</p>
<p>settings:</p>
<p>Invoked by</p>
<p>as the editor to use</p>
<p>Used by</p>
<p>if</p>
<p>is not set</p>
<p>Used by</p>
<p>if neither</p>
<p>nor</p>
<p>is set</p>
<p>Sudo front end configuration</p>
<p>List of who can run what</p>
<p>Default temporary file used by visudo</p>
<p>In addition to reporting</p>
<p>syntax errors,</p>
<p>may produce the following messages:</p>
<p>Someone else is currently editing the</p>
<p>file.</p>
<p>You didn't run</p>
<p>as root.</p>
<p>Your user-ID does not appear in the system passwd database.</p>
<p>Either you are trying to use an undeclared {User,Runas,Host,Cmnd}_Alias or you have a user or host name listed that consists solely of uppercase letters, digits, and the underscore</p>
<p>character. In the latter case, you can ignore the warnings</p>
<p>will not complain</p>
<p>The message is prefixed with the path name of the</p>
<p>file and the line number where the undefined alias was used. In</p>
<p>(strict) mode these are errors, not warnings.</p>
<p>The specified {User,Runas,Host,Cmnd}_Alias was defined but never used. The message is prefixed with the path name of the</p>
<p>file and the line number where the unused alias was defined. You may wish to comment out or remove the unused alias.</p>
<p>The specified {User,Runas,Host,Cmnd}_Alias includes a reference to itself, either directly or through an alias it includes. The message is prefixed with the path name of the</p>
<p>file and the line number where the cycle was detected. This is only a warning unless</p>
<p>is run in</p>
<p>(strict) mode as</p>
<p>will ignore cycles when parsing the</p>
<p>file.</p>
<p>The</p>
<p>file contains a</p>
<p>setting not recognized by</p>
<p>Many people have worked on</p>
<p>over the years; this version consists of code written primarily by:</p>
<p>See the CONTRIBUTORS file in the</p>
<p>distribution (https://www.sudo.ws/contributors.html) for an exhaustive list of people who have contributed to</p>
<p>There is no easy way to prevent a user from gaining a root shell if the editor used by</p>
<p>allows shell escapes.</p>
<p>If you feel you have found a bug in</p>
<p>please submit a bug report at https://bugzilla.sudo.ws/</p>
<p>Limited free support is available via the sudo-users mailing list, see https://www.sudo.ws/mailman/listinfo/sudo-users to subscribe or search the archives.</p>
<p>is provided</p>
<p>and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. See the LICENSE file distributed with</p>
<p>or https://www.sudo.ws/license.html for complete details.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

