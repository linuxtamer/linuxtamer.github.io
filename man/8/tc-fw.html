<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command tc-fw</title><meta name="description" content="Linux command tc-fw fwmark traffic control filter"><meta name="keywords" content="linux, command, tc-fw, bsd, fwmark traffic control filter"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>fw - fwmark traffic control filter</p>
<h1>SYNOPSIS</h1>
<p><strong>tc</strong> <strong>filter</strong> ... <strong>fw</strong> [ <strong>classid</strong> <em>CLASSID</em> ] [ <strong>action</strong> <em>ACTION_SPEC</em> ]</p>
<h1>DESCRIPTION</h1>
<p>the <strong>fw</strong> filter allows to classify packets based on a previously set <strong>fwmark</strong> by <strong>iptables</strong>. If it is identical to the filter's <strong>handle</strong>, the filter matches. <strong>iptables</strong> allows to mark single packets with the <strong>MARK</strong> target, or whole connections using <strong>CONNMARK</strong>. The benefit of using this filter instead of doing the heavy-lifting with <strong>tc</strong> itself is that on one hand it might be convenient to keep packet filtering and classification in one place, possibly having to match a packet just once, and on the other users familiar with <strong>iptables</strong> but not <strong>tc</strong> will have a less hard time adding QoS to their setups.</p>
<h1>OPTIONS</h1>
<dl>
<dt><strong>classid</strong><em> CLASSID</em></dt>
<dd><p>Push matching packets to the class identified by <em>CLASSID</em>.</p>
</dd>
<dt><strong>action</strong><em> ACTION_SPEC</em></dt>
<dd><p>Apply an action from the generic actions framework on matching packets.</p>
</dd>
</dl>
<h1>EXAMPLES</h1>
<p>Take e.g. the following tc filter statement:</p>
<blockquote>
<pre><code>tc filter add ... handle 6 fw classid 1:1</code></pre>
</blockquote>
<p>will match if the packet's <strong>fwmark</strong> value is <strong>6</strong>. This is a sample <strong>iptables</strong> statement marking packets coming in on eth0:</p>
<blockquote>
<pre><code>iptables -t mangle -A PREROUTING -i eth0 -j MARK --set-mark 6</code></pre>
</blockquote>
<h1>SEE ALSO</h1>
<p><strong>tc</strong>(8), <strong>iptables</strong>(8), <strong>iptables-extensions</strong>(8)</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

