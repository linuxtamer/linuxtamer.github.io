<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command pam_mkhomedir</title><meta name="description" content="Linux command pam_mkhomedir PAM module to create users home directory"><meta name="keywords" content="linux, command, pam_mkhomedir, bsd, PAM module to create users home directory"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>pam_mkhomedir - PAM module to create users home directory</p>
<h1>SYNOPSIS</h1>
<p><strong>pam_mkhomedir.so</strong> [silent] [debug] [umask=<em>mode</em>] [skel=<em>skeldir</em>]</p>
<h1>DESCRIPTION</h1>
<p>The pam_mkhomedir PAM module will create a users home directory if it does not exist when the session begins. This allows users to be present in central database (such as NIS, kerberos or LDAP) without using a distributed file system or pre-creating a large number of directories. The skeleton directory (usually /etc/skel/) is used to copy default files and also sets a umask for the creation.</p>
<p>The new users home directory will not be removed after logout of the user.</p>
<h1>OPTIONS</h1>
<p><strong>silent</strong></p>
<blockquote>
<p>Dont print informative messages.</p>
</blockquote>
<p><strong>debug</strong></p>
<blockquote>
<p>Turns on debugging via <strong>syslog</strong>(3).</p>
</blockquote>
<p><strong>umask=</strong><em>mask</em></p>
<blockquote>
<p>The user file-creation mask is set to <em>mask</em>. The default value of mask is 0022.</p>
</blockquote>
<p><strong>skel=</strong><em>/path/to/skel/directory</em></p>
<blockquote>
<p>Indicate an alternative skel directory to override the default /etc/skel.</p>
</blockquote>
<h1>MODULE TYPES PROVIDED</h1>
<p>Only the <strong>session</strong> module type is provided.</p>
<h1>RETURN VALUES</h1>
<p>PAM_BUF_ERR</p>
<blockquote>
<p>Memory buffer error.</p>
</blockquote>
<p>PAM_PERM_DENIED</p>
<blockquote>
<p>Not enough permissions to create the new directory or read the skel directory.</p>
</blockquote>
<p>PAM_USER_UNKNOWN</p>
<blockquote>
<p>User not known to the underlying authentication module.</p>
</blockquote>
<p>PAM_SUCCESS</p>
<blockquote>
<p>Environment variables were set.</p>
</blockquote>
<h1>FILES</h1>
<p>/etc/skel</p>
<blockquote>
<p>Default skel directory</p>
</blockquote>
<h1>EXAMPLES</h1>
<p>A sample /etc/pam.d/login file:</p>
<blockquote>
<pre><code>  auth       requisite   pam_securetty.so
  auth       sufficient  pam_ldap.so
  auth       required    pam_unix.so
  auth       required    pam_nologin.so
  account    sufficient  pam_ldap.so
  account    required    pam_unix.so
  password   required    pam_unix.so
  session    required    pam_mkhomedir.so skel=/etc/skel/ umask=0022
  session    required    pam_unix.so
  session    optional    pam_lastlog.so
  session    optional    pam_mail.so standard
      </code></pre>
</blockquote>
<h1>SEE ALSO</h1>
<p><strong>pam.d</strong>(5), <strong>pam</strong>(7).</p>
<h1>AUTHOR</h1>
<p>pam_mkhomedir was written by Jason Gunthorpe &lt;jgg@debian.org&gt;.</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

