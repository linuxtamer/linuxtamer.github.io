<!DOCTYPE html>
<html lang=en-US>
<head>
<meta charset=utf-8>
<title>Linux command ip-link</title><meta name="description" content="Linux command ip-link network device configuration"><meta name="keywords" content="linux, command, ip-link, bsd, network device configuration"><meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

<h1>NAME</h1>
<p>ip-link - network device configuration</p>
<h1>SYNOPSIS</h1>
<p><strong>ip link</strong> { <em>COMMAND</em> | <strong>help</strong> }</p>
<p><strong>ip link add</strong> [ <strong>link</strong> <em>DEVICE</em> ] [ <strong>name</strong> ] <em>NAME</em><br />
[ <strong>txqueuelen</strong> <em>PACKETS</em> ]<br />
[ <strong>address</strong> <em>LLADDR</em> ] [ <strong>broadcast</strong> <em>LLADDR</em> ]<br />
[ <strong>mtu</strong> <em>MTU</em> ] [ <strong>index</strong> <em>IDX</em> ]<br />
[ <strong>numtxqueues</strong> <em>QUEUE_COUNT</em> ] [ <strong>numrxqueues</strong> <em>QUEUE_COUNT</em> ]<br />
<strong>[ </strong>gso_max_size <em>BYTES</em> ] [ <strong>gso_max_segs</strong> <em>SEGMENTS</em> ]<br />
<strong>type</strong><em> TYPE</em> [ <em>ARGS</em> ]</p>
<p><strong>ip link delete </strong>{ <em>DEVICE</em> | <strong>group </strong><em>GROUP</em> } <strong>type</strong><em> TYPE</em> [ <em>ARGS</em> ]</p>
<p><strong>ip link set </strong>{ <em>DEVICE</em> | <strong>group </strong><em>GROUP</em> }<br />
[ { <strong>up</strong> | <strong>down</strong> } ]<br />
[ <strong>type</strong> <em>ETYPE TYPE_ARGS</em> ]<br />
[ <strong>arp</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>dynamic</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>multicast</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>allmulticast</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>promisc</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>protodown</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>protodown_reason</strong> <em>PREASON</em> { <em>on</em> | <em>off</em> } ]<br />
[ <strong>trailers</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>txqueuelen</strong> <em>PACKETS</em> ]<br />
[ <strong>name</strong> <em>NEWNAME</em> ]<br />
[ <strong>address</strong> <em>LLADDR</em> ]<br />
[ <strong>broadcast</strong> <em>LLADDR</em> ]<br />
[ <strong>mtu</strong> <em>MTU</em> ]<br />
[ <strong>netns</strong> { <em>PID</em> | <em>NETNSNAME</em> } ]<br />
[ <strong>link-netnsid</strong> <em>ID</em> ]<br />
[ <strong>alias</strong> <em>NAME</em> ]<br />
[ <strong>vf</strong> <em>NUM</em> [ <strong>mac</strong> <em>LLADDR</em> ]<br />
</p>
<p>[ <em>VFVLAN-LIST</em> ]<br />
[ <strong>rate</strong> <em>TXRATE</em> ]<br />
[ <strong>max_tx_rate</strong> <em>TXRATE</em> ]<br />
[ <strong>min_tx_rate</strong> <em>TXRATE</em> ]<br />
[ <strong>spoofchk</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>query_rss</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>state</strong> { <strong>auto</strong> | <strong>enable</strong> | <strong>disable</strong> } ]<br />
[ <strong>trust</strong> { <strong>on</strong> | <strong>off</strong> } ]<br />
[ <strong>node_guid</strong> eui64 ]<br />
[ <strong>port_guid</strong> eui64 ] ]<br />
</p>
<p>[ { <strong>xdp</strong> | <strong>xdpgeneric</strong> | <strong>xdpdrv</strong> | <strong>xdpoffload</strong> } { <strong>off</strong> |<br />
</p>
<p><strong>object</strong> <em>FILE</em> [ <strong>section</strong> <em>NAME</em> ] [ <strong>verbose</strong> ] |<br />
<strong>pinned</strong> <em>FILE</em> } ]<br />
</p>
<p>[ <strong>master</strong> <em>DEVICE</em> ]<br />
[ <strong>nomaster</strong> ]<br />
[ <strong>vrf</strong> <em>NAME</em> ]<br />
[ <strong>addrgenmode</strong> { <strong>eui64</strong> | <strong>none</strong> | <strong>stable_secret</strong> | <strong>random</strong> } ]<br />
[ <strong>macaddr</strong> [ <em>MACADDR</em> ]<br />
</p>
<p>[ { <strong>flush</strong> | <strong>add</strong> | <strong>del</strong> } <em>MACADDR</em> ]<br />
[ <strong>set</strong> <em>MACADDR</em> ] ]<br />
</p>
<p><strong>ip link show</strong> [ <em>DEVICE</em> | <strong>group</strong> <em>GROUP</em> ] [ <strong>up</strong> ] [ <strong>master</strong> <em>DEVICE</em> ] [ <strong>type</strong> <em>ETYPE</em> ] [ <strong>vrf</strong> <em>NAME</em> ]</p>
<p><strong>ip link xstats</strong> <strong>type</strong><em> TYPE</em> [ <em>ARGS</em> ]</p>
<p><strong>ip link afstats</strong> [ <strong>dev</strong> <em>DEVICE</em> ]</p>
<p><strong>ip link help</strong> [ <em>TYPE</em> ]</p>
<p><em>TYPE</em> := [ <strong>bridge</strong> | <strong>bond</strong> | <strong>can</strong> | <strong>dummy</strong> | <strong>hsr</strong> | <strong>ifb</strong> | <strong>ipoib</strong> | <strong>macvlan</strong> | <strong>macvtap</strong> | <strong>vcan</strong> | <strong>vxcan</strong> | <strong>veth</strong> | <strong>vlan</strong> | <strong>vxlan</strong> | <strong>ip6tnl</strong> | <strong>ipip</strong> | <strong>sit</strong> | <strong>gre</strong> | <strong>gretap</strong> | <strong>erspan</strong> | <strong>ip6gre</strong> | <strong>ip6gretap</strong> | <strong>ip6erspan</strong> | <strong>vti</strong> | <strong>nlmon</strong> | <strong>ipvlan</strong> | <strong>ipvtap</strong> | <strong>lowpan</strong> | <strong>geneve</strong> | <strong>bareudp</strong> | <strong>vrf</strong> | <strong>macsec</strong> | <strong>netdevsim</strong> | <strong>rmnet</strong> | <strong>xfrm</strong> ]</p>
<p><em>ETYPE</em> := [ <em>TYPE</em> | <strong>bridge_slave</strong> | <strong>bond_slave</strong> ]</p>
<p><em>VFVLAN-LIST</em> := [ <em>VFVLAN-LIST</em> ] <em>VFVLAN</em></p>
<p><em>VFVLAN</em> := [ <strong>vlan</strong> <em>VLANID</em> [ <strong>qos</strong> <em>VLAN-QOS</em> ] [ <strong>proto</strong> <em>VLAN-PROTO</em> ] ]</p>
<p><strong>ip link property add</strong> [ <strong>altname</strong> <em>NAME</em> .. ]</p>
<p><strong>ip link property del</strong> [ <strong>altname</strong> <em>NAME</em> .. ]</p>
<h1>DESCRIPTION</h1>
<h2>ip link add - add virtual link</h2>
<dl>
<dt><strong>link</strong><em> DEVICE </em></dt>
<dd><p>specifies the physical device to act operate on.</p>
</dd>
</dl>
<p><em>NAME</em> specifies the name of the new virtual device.</p>
<p><em>TYPE</em> specifies the type of the new device.</p>
<p>Link types:</p>
<p><strong>bridge</strong> - Ethernet Bridge device</p>
<p><strong>bond</strong> - Bonding device</p>
<p><strong>dummy</strong> - Dummy network interface</p>
<p><strong>hsr</strong> - High-availability Seamless Redundancy device</p>
<p><strong>ifb</strong> - Intermediate Functional Block device</p>
<p><strong>ipoib</strong> - IP over Infiniband device</p>
<p><strong>macvlan</strong> - Virtual interface base on link layer address (MAC)</p>
<p><strong>macvtap</strong> - Virtual interface based on link layer address (MAC) and TAP.</p>
<p><strong>vcan</strong> - Virtual Controller Area Network interface</p>
<p><strong>vxcan</strong> - Virtual Controller Area Network tunnel interface</p>
<p><strong>veth</strong> - Virtual ethernet interface</p>
<p><strong>vlan</strong> - 802.1q tagged virtual LAN interface</p>
<p><strong>vxlan</strong> - Virtual eXtended LAN</p>
<p><strong>ip6tnl</strong> - Virtual tunnel interface IPv4|IPv6 over IPv6</p>
<p><strong>ipip</strong> - Virtual tunnel interface IPv4 over IPv4</p>
<p><strong>sit</strong> - Virtual tunnel interface IPv6 over IPv4</p>
<p><strong>gre</strong> - Virtual tunnel interface GRE over IPv4</p>
<p><strong>gretap</strong> - Virtual L2 tunnel interface GRE over IPv4</p>
<p><strong>erspan</strong> - Encapsulated Remote SPAN over GRE and IPv4</p>
<p><strong>ip6gre</strong> - Virtual tunnel interface GRE over IPv6</p>
<p><strong>ip6gretap</strong> - Virtual L2 tunnel interface GRE over IPv6</p>
<p><strong>ip6erspan</strong> - Encapsulated Remote SPAN over GRE and IPv6</p>
<p><strong>vti</strong> - Virtual tunnel interface</p>
<p><strong>nlmon</strong> - Netlink monitoring device</p>
<p><strong>ipvlan</strong> - Interface for L3 (IPv6/IPv4) based VLANs</p>
<p><strong>ipvtap</strong> - Interface for L3 (IPv6/IPv4) based VLANs and TAP</p>
<p><strong>lowpan</strong> - Interface for 6LoWPAN (IPv6) over IEEE 802.15.4 / Bluetooth</p>
<p><strong>geneve</strong> - GEneric NEtwork Virtualization Encapsulation</p>
<p><strong>bareudp</strong> - Bare UDP L3 encapsulation support</p>
<p><strong>macsec</strong> - Interface for IEEE 802.1AE MAC Security (MACsec)</p>
<p><strong>vrf</strong> - Interface for L3 VRF domains</p>
<p><strong>netdevsim</strong> - Interface for netdev API tests</p>
<p><strong>rmnet</strong> - Qualcomm rmnet device</p>
<p><strong>xfrm</strong> - Virtual xfrm interface</p>
<dl>
<dt><strong>numtxqueues</strong><em> QUEUE_COUNT </em></dt>
<dd><p>specifies the number of transmit queues for new device.</p>
</dd>
</dl>
<dl>
<dt><strong>numrxqueues</strong><em> QUEUE_COUNT </em></dt>
<dd><p>specifies the number of receive queues for new device.</p>
</dd>
</dl>
<dl>
<dt><strong>gso_max_size</strong><em> BYTES </em></dt>
<dd><p>specifies the recommended maximum size of a Generic Segment Offload packet the new device should accept.</p>
</dd>
</dl>
<dl>
<dt><strong>gso_max_segs</strong><em> SEGMENTS </em></dt>
<dd><p>specifies the recommended maximum number of a Generic Segment Offload segments the new device should accept.</p>
</dd>
</dl>
<dl>
<dt><strong>index</strong><em> IDX </em></dt>
<dd><p>specifies the desired index of the new virtual device. The link creation fails, if the index is busy.</p>
</dd>
</dl>
<dl>
<dt>VLAN Type Support</dt>
<dd><p>For a link of type <em>VLAN</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>"ip</strong><em>link</em><strong>add</strong> <strong>link</strong><em> DEVICE </em> <strong>name</strong><em> NAME </em> <strong>type vlan</strong> [ <strong>protocol</strong><em> VLAN_PROTO </em> ] <strong>id</strong><em> VLANID </em> [ <strong>reorder_hdr</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>gvrp</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>mvrp</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>loose_binding</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>bridge_binding</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>ingress-qos-map</strong><em> QOS-MAP </em> ] [ <strong>egress-qos-map</strong><em> QOS-MAP </em> ]</p>
<p><strong>protocol</strong><em> VLAN_PROTO </em> - either 802.1Q or 802.1ad.</p>
<p><strong>id</strong><em> VLANID </em> - specifies the VLAN Identifier to use. Note that numbers with a leading " 0 " or " 0x " are interpreted as octal or hexadecimal, respectively.</p>
<p><strong>reorder_hdr</strong> { <strong>on</strong> | <strong>off</strong> } - specifies whether ethernet headers are reordered or not (default is <strong>on</strong>).</p>
<p>If <strong>reorder_hdr</strong> is <strong>on</strong> then VLAN header will be not inserted immediately but only before passing to the physical device (if this device does not support VLAN offloading), the similar on the RX direction - by default the packet will be untagged before being received by VLAN device. Reordering allows to accelerate tagging on egress and to hide VLAN header on ingress so the packet looks like regular Ethernet packet, at the same time it might be confusing for packet capture as the VLAN header does not exist within the packet.</p>
<p>VLAN offloading can be checked by <strong>ethtool</strong>(8):</p>
<p><strong>ethtool -k</strong> &lt;phy_dev&gt; | grep<strong> tx-vlan-offload</strong></p>
<p>where &lt;phy_dev&gt; is the physical device to which VLAN device is bound.</p>
<p><strong>gvrp</strong> { <strong>on</strong> | <strong>off</strong> } - specifies whether this VLAN should be registered using GARP VLAN Registration Protocol.</p>
<p><strong>mvrp</strong> { <strong>on</strong> | <strong>off</strong> } - specifies whether this VLAN should be registered using Multiple VLAN Registration Protocol.</p>
<p><strong>loose_binding</strong> { <strong>on</strong> | <strong>off</strong> } - specifies whether the VLAN device state is bound to the physical device state.</p>
<p><strong>bridge_binding</strong> { <strong>on</strong> | <strong>off</strong> } - specifies whether the VLAN device link state tracks the state of bridge ports that are members of the VLAN.</p>
<p><strong>ingress-qos-map</strong><em> QOS-MAP </em> - defines a mapping of VLAN header prio field to the Linux internal packet priority on incoming frames. The format is FROM:TO with multiple mappings separated by spaces.</p>
<p><strong>egress-qos-map</strong><em> QOS-MAP </em> - defines a mapping of Linux internal packet priority to VLAN header prio field but for outgoing frames. The format is the same as for ingress-qos-map.</p>
<p>Linux packet priority can be set by <strong>iptables</strong>(8)<strong>:</strong></p>
<p><strong>iptables</strong> -t mangle -A POSTROUTING [...] -j CLASSIFY --set-class 0:4</p>
<p>and this "4" priority can be used in the egress qos mapping to set VLAN prio "5":</p>
<p><strong>ip</strong> link set veth0.10 type vlan egress 4:5</p>
<dl>
<dt>VXLAN Type Support</dt>
<dd><p>For a link of type <em>VXLAN</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong><em> vxlan </em><strong>id</strong><em> VNI</em> [ <strong>dev</strong><em> PHYS_DEV </em> ] [ { <strong>group</strong> | <strong>remote</strong> } <em>IPADDR</em> ] [ <strong>local</strong> { <em>IPADDR</em> | <em>any</em> } ] [ <strong>ttl</strong><em> TTL </em> ] [ <strong>tos</strong><em> TOS </em> ] [ <strong>df</strong><em> DF </em> ] [ <strong>flowlabel</strong><em> FLOWLABEL </em> ] [ <strong>dstport</strong><em> PORT </em> ] [ <strong>srcport</strong><em> MIN MAX </em> ] [ [<strong>no</strong>]<strong>learning</strong> ] [ [<strong>no</strong>]<strong>proxy</strong> ] [ [<strong>no</strong>]<strong>rsc</strong> ] [ [<strong>no</strong>]<strong>l2miss</strong> ] [ [<strong>no</strong>]<strong>l3miss</strong> ] [ [<strong>no</strong>]<strong>udpcsum</strong> ] [ [<strong>no</strong>]<strong>udp6zerocsumtx</strong> ] [ [<strong>no</strong>]<strong>udp6zerocsumrx</strong> ] [ <strong>ageing</strong><em> SECONDS </em> ] [ <strong>maxaddress</strong><em> NUMBER </em> ] [ [<strong>no</strong>]<strong>external</strong> ] [ <strong>gbp</strong> ] [ <strong>gpe</strong> ]</p>
<p><strong>id</strong><em> VNI </em> - specifies the VXLAN Network Identifier (or VXLAN Segment Identifier) to use.</p>
<p><strong>dev</strong><em> PHYS_DEV</em> - specifies the physical device to use for tunnel endpoint communication.</p>
<p><strong>group</strong><em> IPADDR</em> - specifies the multicast IP address to join. This parameter cannot be specified with the <strong>remote</strong> parameter.</p>
<p><strong>remote</strong><em> IPADDR</em> - specifies the unicast destination IP address to use in outgoing packets when the destination link layer address is not known in the VXLAN device forwarding database. This parameter cannot be specified with the <strong>group</strong> parameter.</p>
<p><strong>local</strong><em> IPADDR</em> - specifies the source IP address to use in outgoing packets.</p>
<p><strong>ttl</strong><em> TTL</em> - specifies the TTL value to use in outgoing packets.</p>
<p><strong>tos</strong><em> TOS</em> - specifies the TOS value to use in outgoing packets.</p>
<p><strong>df</strong><em> DF</em> - specifies the usage of the Don't Fragment flag (DF) bit in outgoing packets with IPv4 headers. The value <strong>inherit</strong> causes the bit to be copied from the original IP header. The values <strong>unset</strong> and <strong>set</strong> cause the bit to be always unset or always set, respectively. By default, the bit is not set.</p>
<p><strong>flowlabel</strong><em> FLOWLABEL</em> - specifies the flow label to use in outgoing packets.</p>
<p><strong>dstport</strong><em> PORT</em> - specifies the UDP destination port to communicate to the remote VXLAN tunnel endpoint.</p>
<p><strong>srcport</strong><em> MIN MAX</em> - specifies the range of port numbers to use as UDP source ports to communicate to the remote VXLAN tunnel endpoint.</p>
<p>[<strong>no</strong>]<strong>learning</strong> - specifies if unknown source link layer addresses and IP addresses are entered into the VXLAN device forwarding database.</p>
<p>[<strong>no</strong>]<strong>rsc</strong> - specifies if route short circuit is turned on.</p>
<p>[<strong>no</strong>]<strong>proxy</strong> - specifies ARP proxy is turned on.</p>
<p>[<strong>no</strong>]<strong>l2miss</strong> - specifies if netlink LLADDR miss notifications are generated.</p>
<p>[<strong>no</strong>]<strong>l3miss</strong> - specifies if netlink IP ADDR miss notifications are generated.</p>
<p>[<strong>no</strong>]<strong>udpcsum</strong> - specifies if UDP checksum is calculated for transmitted packets over IPv4.</p>
<p>[<strong>no</strong>]<strong>udp6zerocsumtx</strong> - skip UDP checksum calculation for transmitted packets over IPv6.</p>
<p>[<strong>no</strong>]<strong>udp6zerocsumrx</strong> - allow incoming UDP packets over IPv6 with zero checksum field.</p>
<p><strong>ageing</strong><em> SECONDS</em> - specifies the lifetime in seconds of FDB entries learnt by the kernel.</p>
<p><strong>maxaddress</strong><em> NUMBER</em> - specifies the maximum number of FDB entries.</p>
<p>[<strong>no</strong>]<strong>external</strong> - specifies whether an external control plane (e.g. <strong>ip route encap</strong>) or the internal FDB should be used.</p>
<p><strong>gbp</strong> - enables the Group Policy extension (VXLAN-GBP).</p>
<p>Allows to transport group policy context across VXLAN network peers. If enabled, includes the mark of a packet in the VXLAN header for outgoing packets and fills the packet mark based on the information found in the VXLAN header for incoming packets.</p>
<p>Format of upper 16 bits of packet mark (flags);</p>
<p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br />
|-|-|-|-|-|-|-|-|-|D|-|-|A|-|-|-|<br />
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p><strong>D :=</strong> Don't Learn bit. When set, this bit indicates that the egress VTEP MUST NOT learn the source address of the encapsulated frame.</p>
<p><strong>A :=</strong> Indicates that the group policy has already been applied to this packet. Policies MUST NOT be applied by devices when the A bit is set.</p>
<p>Format of lower 16 bits of packet mark (policy ID):</p>
<p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br />
| Group Policy ID |<br />
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p>Example: iptables -A OUTPUT [...] -j MARK --set-mark 0x800FF</p>
<p><strong>gpe</strong> - enables the Generic Protocol extension (VXLAN-GPE). Currently, this is only supported together with the <strong>external</strong> keyword.</p>
<dl>
<dt>VETH, VXCAN Type Support</dt>
<dd><p>For a link of types <em>VETH/VXCAN</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong> { <strong>veth</strong> | <strong>vxcan</strong> } [ <strong>peer</strong> <strong>name </strong><em>NAME</em> ]</p>
<p><strong>peer</strong> <strong>name </strong><em>NAME</em> - specifies the virtual pair device name of the <em>VETH/VXCAN</em> tunnel.</p>
<dl>
<dt>IPIP, SIT Type Support</dt>
<dd><p>For a link of type <em>IPIP</em>or<em>SIT</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong> { <strong>ipip</strong> | <strong>sit</strong> } <strong> remote </strong><em>ADDR</em><strong> local </strong><em>ADDR</em> [ <strong>encap</strong> { <strong>fou</strong> | <strong>gue</strong> | <strong>none</strong> } ] [ <strong>encap-sport</strong> { <strong><em>PORT</em></strong> | <strong>auto</strong> } ] [ <strong>encap-dport </strong><em>PORT</em> ] [ [<strong>no</strong>]<strong>encap-csum</strong> ] [ <em> [no]encap-remcsum </em> ] [ <em> mode { ip6ip | ipip | mplsip | any } "</em> ] [ <strong>external</strong> ]</p>
<p><strong>remote</strong><em> ADDR </em> - specifies the remote address of the tunnel.</p>
<p><strong>local</strong><em> ADDR </em> - specifies the fixed local address for tunneled packets. It must be an address on another interface on this host.</p>
<p><strong>encap</strong> { <strong>fou</strong> | <strong>gue</strong> | <strong>none</strong> } - specifies type of secondary UDP encapsulation. "fou" indicates Foo-Over-UDP, "gue" indicates Generic UDP Encapsulation.</p>
<p><strong>encap-sport</strong> { <strong><em>PORT</em></strong> | <strong>auto</strong> } - specifies the source port in UDP encapsulation. <em>PORT</em> indicates the port by number, "auto" indicates that the port number should be chosen automatically (the kernel picks a flow based on the flow hash of the encapsulated packet).</p>
<p>[<strong>no</strong>]<strong>encap-csum</strong> - specifies if UDP checksums are enabled in the secondary encapsulation.</p>
<p>[<strong>no</strong>]<strong>encap-remcsum</strong> - specifies if Remote Checksum Offload is enabled. This is only applicable for Generic UDP Encapsulation.</p>
<p><strong>mode</strong><em> { ip6ip | ipip | mplsip | any } </em> - specifies mode in which device should run. "ip6ip" indicates IPv6-Over-IPv4, "ipip" indicates "IPv4-Over-IPv4", "mplsip" indicates MPLS-Over-IPv4, "any" indicates IPv6, IPv4 or MPLS Over IPv4. Supported for SIT where the default is "ip6ip" and IPIP where the default is "ipip". IPv6-Over-IPv4 is not supported for IPIP.</p>
<p><strong>external</strong> - make this tunnel externally controlled (e.g. <strong>ip route encap</strong>).</p>
<dl>
<dt>GRE Type Support</dt>
<dd><p>For a link of type <em>GRE</em> or <em>GRETAP</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong> { <strong>gre</strong> | <strong>gretap</strong> } <strong> remote </strong><em>ADDR</em><strong> local </strong><em>ADDR</em> [ [<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>seq</strong> ] [ [<strong>i</strong>|<strong>o</strong>]<strong>key</strong> <em>KEY</em> | <strong>no</strong>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> ] [ [<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>csum</strong> ] [ <strong>ttl</strong><em> TTL </em> ] [ <strong>tos</strong><em> TOS </em> ] [ [<strong>no</strong>]<strong>pmtudisc</strong> ] [ [<strong>no</strong>]<strong>ignore-df</strong> ] [ <strong>dev</strong><em> PHYS_DEV </em> ] [ <strong>encap</strong> { <strong>fou</strong> | <strong>gue</strong> | <strong>none</strong> } ] [ <strong>encap-sport</strong> { <strong><em>PORT</em></strong> | <strong>auto</strong> } ] [ <strong>encap-dport </strong><em>PORT</em> ] [ [<strong>no</strong>]<strong>encap-csum</strong> ] [ [<strong>no</strong>]<strong>encap-remcsum</strong> ] [ <strong>external</strong> ]</p>
<p><strong>remote</strong><em> ADDR </em> - specifies the remote address of the tunnel.</p>
<p><strong>local</strong><em> ADDR </em> - specifies the fixed local address for tunneled packets. It must be an address on another interface on this host.</p>
<p>[<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>seq</strong> - serialize packets. The <strong>oseq</strong> flag enables sequencing of outgoing packets. The <strong>iseq</strong> flag requires that all input packets are serialized.</p>
<p>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> <em>KEY</em> | <strong>no</strong>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> - use keyed GRE with key <em>KEY</em>. <em>KEY</em> is either a number or an IPv4 address-like dotted quad. The <strong>key</strong> parameter specifies the same key to use in both directions. The <strong>ikey</strong> and <strong>okey</strong> parameters specify different keys for input and output.</p>
<p>[<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>csum</strong> - generate/require checksums for tunneled packets. The <strong>ocsum</strong> flag calculates checksums for outgoing packets. The <strong>icsum</strong> flag requires that all input packets have the correct checksum. The <strong>csum</strong> flag is equivalent to the combination <strong>icsum ocsum .</strong></p>
<p><strong>ttl</strong><em> TTL</em> - specifies the TTL value to use in outgoing packets.</p>
<p><strong>tos</strong><em> TOS</em> - specifies the TOS value to use in outgoing packets.</p>
<p>[<strong>no</strong>]<strong>pmtudisc</strong> - enables/disables Path MTU Discovery on this tunnel. It is enabled by default. Note that a fixed ttl is incompatible with this option: tunneling with a fixed ttl always makes pmtu discovery.</p>
<p>[<strong>no</strong>]<strong>ignore-df</strong> - enables/disables IPv4 DF suppression on this tunnel. Normally datagrams that exceed the MTU will be fragmented; the presence of the DF flag inhibits this, resulting instead in an ICMP Unreachable (Fragmentation Required) message. Enabling this attribute causes the DF flag to be ignored.</p>
<p><strong>dev</strong><em> PHYS_DEV</em> - specifies the physical device to use for tunnel endpoint communication.</p>
<p><strong>encap</strong> { <strong>fou</strong> | <strong>gue</strong> | <strong>none</strong> } - specifies type of secondary UDP encapsulation. "fou" indicates Foo-Over-UDP, "gue" indicates Generic UDP Encapsulation.</p>
<p><strong>encap-sport</strong> { <strong><em>PORT</em></strong> | <strong>auto</strong> } - specifies the source port in UDP encapsulation. <em>PORT</em> indicates the port by number, "auto" indicates that the port number should be chosen automatically (the kernel picks a flow based on the flow hash of the encapsulated packet).</p>
<p>[<strong>no</strong>]<strong>encap-csum</strong> - specifies if UDP checksums are enabled in the secondary encapsulation.</p>
<p>[<strong>no</strong>]<strong>encap-remcsum</strong> - specifies if Remote Checksum Offload is enabled. This is only applicable for Generic UDP Encapsulation.</p>
<p><strong>external</strong> - make this tunnel externally controlled (e.g. <strong>ip route encap</strong>).</p>
<dl>
<dt>IP6GRE/IP6GRETAP Type Support</dt>
<dd><p>For a link of type <em>IP6GRE/IP6GRETAP</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong> { <strong>ip6gre</strong> | <strong>ip6gretap</strong> } <strong>remote</strong><em> ADDR </em><strong>local</strong><em> ADDR</em> [ [<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>seq</strong> ] [ [<strong>i</strong>|<strong>o</strong>]<strong>key</strong> <em>KEY</em> | <strong>no</strong>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> ] [ [<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>csum</strong> ] [ <strong>hoplimit</strong><em> TTL </em> ] [ <strong>encaplimit</strong><em> ELIM </em> ] [ <strong>tclass</strong><em> TCLASS </em> ] [ <strong>flowlabel</strong><em> FLOWLABEL </em> ] [ <strong>dscp inherit</strong> ] [ <strong>[no]allow-localremote</strong> ] [ <strong>dev</strong><em> PHYS_DEV </em> ] [ external ]</p>
<p><strong>remote</strong><em> ADDR </em> - specifies the remote IPv6 address of the tunnel.</p>
<p><strong>local</strong><em> ADDR </em> - specifies the fixed local IPv6 address for tunneled packets. It must be an address on another interface on this host.</p>
<p>[<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>seq</strong> - serialize packets. The <strong>oseq</strong> flag enables sequencing of outgoing packets. The <strong>iseq</strong> flag requires that all input packets are serialized.</p>
<p>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> <em>KEY</em> | <strong>no</strong>[<strong>i</strong>|<strong>o</strong>]<strong>key</strong> - use keyed GRE with key <em>KEY</em>. <em>KEY</em> is either a number or an IPv4 address-like dotted quad. The <strong>key</strong> parameter specifies the same key to use in both directions. The <strong>ikey</strong> and <strong>okey</strong> parameters specify different keys for input and output.</p>
<p>[<strong>no</strong>]<strong></strong>[<strong>i</strong>|<strong>o</strong>]<strong>csum</strong> - generate/require checksums for tunneled packets. The <strong>ocsum</strong> flag calculates checksums for outgoing packets. The <strong>icsum</strong> flag requires that all input packets have the correct checksum. The <strong>csum</strong> flag is equivalent to the combination <strong>icsum ocsum</strong>.</p>
<p><strong>hoplimit</strong><em> TTL</em> - specifies Hop Limit value to use in outgoing packets.</p>
<p><strong>encaplimit</strong><em> ELIM</em> - specifies a fixed encapsulation limit. Default is 4.</p>
<p><strong>flowlabel</strong><em> FLOWLABEL</em> - specifies a fixed flowlabel.</p>
<p><strong>[no]allow-localremote</strong> - specifies whether to allow remote endpoint to have an address configured on local host.</p>
<p><strong>tclass</strong><em> TCLASS</em> - specifies the traffic class field on tunneled packets, which can be specified as either a two-digit hex value (e.g. c0) or a predefined string (e.g. internet). The value <strong>inherit</strong> causes the field to be copied from the original IP header. The values <strong>inherit/</strong><em>STRING</em> or <strong>inherit/</strong><em>00</em><strong>..</strong><em>ff</em> will set the field to <em>STRING</em> or <em>00</em>..<em>ff</em> when tunneling non-IP packets. The default value is 00.</p>
<p>external - make this tunnel externally controlled (or not, which is the default). In the kernel, this is referred to as collect metadata mode. This flag is mutually exclusive with the <strong>remote</strong>, <strong>local</strong>, <strong>seq</strong>, <strong>key,</strong> <strong>csum,</strong> <strong>hoplimit,</strong> <strong>encaplimit,</strong> <strong>flowlabel</strong> and <strong>tclass</strong> options.</p>
<dl>
<dt>IPoIB Type Support</dt>
<dd><p>For a link of type <em>IPoIB</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em><strong> name </strong><em>NAME</em> <strong>type ipoib </strong>[<strong> pkey <em>PKEY</em></strong> ] [ <strong>mode</strong> <em>MODE </em>]</p>
<p><strong>pkey</strong><em> PKEY </em> - specifies the IB P-Key to use.</p>
<p><strong>mode</strong><em> MODE </em> - specifies the mode (datagram or connected) to use.</p>
<dl>
<dt>ERSPAN Type Support</dt>
<dd><p>For a link of type <em>ERSPAN/IP6ERSPAN</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong> { <strong>erspan</strong> | <strong>ip6erspan</strong> } <strong>remote</strong><em> ADDR </em><strong>local</strong><em> ADDR </em><strong>seq</strong> key <em>KEY</em> <strong>erspan_ver</strong> <em>version </em> [ <strong>erspan</strong> <em>IDX </em> ] [ <strong>erspan_dir</strong> { <strong><em>ingress</em></strong> | <strong><em>egress</em></strong> } ] [ <strong>erspan_hwid</strong> <em>hwid </em> ] [ <strong>[no]allow-localremote</strong> ] [ external ]</p>
<p><strong>remote</strong><em> ADDR </em> - specifies the remote address of the tunnel.</p>
<p><strong>local</strong><em> ADDR </em> - specifies the fixed local address for tunneled packets. It must be an address on another interface on this host.</p>
<p><strong>erspan_ver</strong> <em>version </em> - specifies the ERSPAN version number. <em>version</em> indicates the ERSPAN version to be created: 0 for version 0 type I, 1 for version 1 (type II) or 2 for version 2 (type III).</p>
<p><strong>erspan</strong> <em>IDX </em> - specifies the ERSPAN v1 index field. <em>IDX</em> indicates a 20 bit index/port number associated with the ERSPAN traffic's source port and direction.</p>
<p><strong>erspan_dir</strong> { <strong><em>ingress</em></strong> | <strong><em>egress</em></strong> } - specifies the ERSPAN v2 mirrored traffic's direction.</p>
<p><strong>erspan_hwid</strong> <em>hwid </em> - an unique identifier of an ERSPAN v2 engine within a system. <em>hwid</em> is a 6-bit value for users to configure.</p>
<p><strong>[no]allow-localremote</strong> - specifies whether to allow remote endpoint to have an address configured on local host.</p>
<p><strong>external</strong> - make this tunnel externally controlled (or not, which is the default). In the kernel, this is referred to as collect metadata mode. This flag is mutually exclusive with the <strong>remote</strong>, <strong>local</strong>, <strong>erspan_ver</strong>, <strong>erspan</strong>, <strong>erspan_dir</strong> and <strong>erspan_hwid</strong> options.</p>
<dl>
<dt>GENEVE Type Support</dt>
<dd><p>For a link of type <em>GENEVE</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong><em> geneve </em><strong>id</strong><em> VNI </em><strong>remote</strong><em> IPADDR</em> [ <strong>ttl</strong><em> TTL </em> ] [ <strong>tos</strong><em> TOS </em> ] [ <strong>df</strong><em> DF </em> ] [ <strong>flowlabel</strong><em> FLOWLABEL </em> ] [ <strong>dstport</strong><em> PORT</em> ] [ [<strong>no</strong>]<strong>external</strong> ] [ [<strong>no</strong>]<strong>udpcsum</strong> ] [ [<strong>no</strong>]<strong>udp6zerocsumtx</strong> ] [ [<strong>no</strong>]<strong>udp6zerocsumrx</strong> ]</p>
<p><strong>id</strong><em> VNI </em> - specifies the Virtual Network Identifier to use.</p>
<p><strong>remote</strong><em> IPADDR</em> - specifies the unicast destination IP address to use in outgoing packets.</p>
<p><strong>ttl</strong><em> TTL</em> - specifies the TTL value to use in outgoing packets. "0" or "auto" means use whatever default value, "inherit" means inherit the inner protocol's ttl. Default option is "0".</p>
<p><strong>tos</strong><em> TOS</em> - specifies the TOS value to use in outgoing packets.</p>
<p><strong>df</strong><em> DF</em> - specifies the usage of the Don't Fragment flag (DF) bit in outgoing packets with IPv4 headers. The value <strong>inherit</strong> causes the bit to be copied from the original IP header. The values <strong>unset</strong> and <strong>set</strong> cause the bit to be always unset or always set, respectively. By default, the bit is not set.</p>
<p><strong>flowlabel</strong><em> FLOWLABEL</em> - specifies the flow label to use in outgoing packets.</p>
<p><strong>dstport</strong><em> PORT</em> - select a destination port other than the default of 6081.</p>
<p>[<strong>no</strong>]<strong>external</strong> - make this tunnel externally controlled (or not, which is the default). This flag is mutually exclusive with the <strong>id</strong>, <strong>remote</strong>, <strong>ttl</strong>, <strong>tos</strong> and <strong>flowlabel</strong> options.</p>
<p>[<strong>no</strong>]<strong>udpcsum</strong> - specifies if UDP checksum is calculated for transmitted packets over IPv4.</p>
<p>[<strong>no</strong>]<strong>udp6zerocsumtx</strong> - skip UDP checksum calculation for transmitted packets over IPv6.</p>
<p>[<strong>no</strong>]<strong>udp6zerocsumrx</strong> - allow incoming UDP packets over IPv6 with zero checksum field.</p>
<dl>
<dt>Bareudp Type Support</dt>
<dd><p>For a link of type <em>Bareudp</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em> <strong>type</strong><em> bareudp </em><strong>dstport</strong><em> PORT </em><strong>ethertype</strong><em> ETHERTYPE</em> [ <strong>srcportmin</strong><em> SRCPORTMIN </em> ] [ [<strong>no</strong>]<strong>multiproto</strong> ]</p>
<p><strong>dstport</strong><em> PORT</em> - specifies the destination port for the UDP tunnel.</p>
<p><strong>ethertype</strong><em> ETHERTYPE</em> - specifies the ethertype of the L3 protocol being tunnelled.</p>
<p><strong>srcportmin</strong><em> SRCPORTMIN</em> - selects the lowest value of the UDP tunnel source port range.</p>
<p>[<strong>no</strong>]<strong>multiproto</strong> - activates support for protocols similar to the one specified by <strong>ethertype</strong>. When <em>ETHERTYPE</em> is "mpls_uc" (that is, unicast MPLS), this allows the tunnel to also handle multicast MPLS. When <em>ETHERTYPE</em> is "ipv4", this allows the tunnel to also handle IPv6. This option is disabled by default.</p>
<dl>
<dt>MACVLAN and MACVTAP Type Support</dt>
<dd><p>For a link of type <em>MACVLAN</em> or <em>MACVTAP</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add link </strong><em>DEVICE</em><strong> name </strong><em>NAME</em> <strong>type</strong> { <strong>macvlan</strong> | <strong>macvtap</strong> } <strong>mode</strong> { <strong>private</strong> | <strong>vepa</strong> | <strong>bridge</strong> | <strong>passthru</strong> [ <strong>nopromisc</strong> ] | <strong>source</strong> }</p>
<p><strong>type</strong> { <strong>macvlan</strong> | <strong>macvtap</strong> } - specifies the link type to use. <strong>macvlan</strong> creates just a virtual interface, while <strong>macvtap</strong> in addition creates a character device <strong>/dev/tapX</strong> to be used just like a <strong>tuntap</strong> device.</p>
<p><strong>mode private</strong> - Do not allow communication between <strong>macvlan</strong> instances on the same physical interface, even if the external switch supports hairpin mode.</p>
<p><strong>mode vepa</strong> - Virtual Ethernet Port Aggregator mode. Data from one <strong>macvlan</strong> instance to the other on the same physical interface is transmitted over the physical interface. Either the attached switch needs to support hairpin mode, or there must be a TCP/IP router forwarding the packets in order to allow communication. This is the default mode.</p>
<p><strong>mode bridge</strong> - In bridge mode, all endpoints are directly connected to each other, communication is not redirected through the physical interface's peer.</p>
<p><strong>mode</strong> <strong>passthru</strong> [ <strong>nopromisc</strong> ] - This mode gives more power to a single endpoint, usually in <strong>macvtap</strong> mode. It is not allowed for more than one endpoint on the same physical interface. All traffic will be forwarded to this endpoint, allowing virtio guests to change MAC address or set promiscuous mode in order to bridge the interface or create vlan interfaces on top of it. By default, this mode forces the underlying interface into promiscuous mode. Passing the <strong>nopromisc</strong> flag prevents this, so the promisc flag may be controlled using standard tools.</p>
<p><strong>mode source</strong> - allows one to set a list of allowed mac address, which is used to match against source mac address from received frames on underlying interface. This allows creating mac based VLAN associations, instead of standard port or tag based. The feature is useful to deploy 802.1x mac based behavior, where drivers of underlying interfaces doesn't allows that.</p>
<dl>
<dt>High-availability Seamless Redundancy (HSR) Support</dt>
<dd><p>For a link of type <em>HSR</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add link </strong><em>DEVICE</em><strong> name </strong><em>NAME</em><strong> type hsr</strong> <strong>slave1</strong><em> SLAVE1-IF </em><strong>slave2</strong><em> SLAVE2-IF </em> [<strong> supervision</strong> <em>ADDR-BYTE</em> ] [ <strong>version</strong> { <strong>0</strong> | <strong>1</strong> } [ <strong>proto</strong> { <strong>0</strong> | <strong>1</strong> } ]</p>
<p><strong>type</strong> hsr - specifies the link type to use, here HSR.</p>
<p><strong>slave1</strong><em> SLAVE1-IF </em> - Specifies the physical device used for the first of the two ring ports.</p>
<p><strong>slave2</strong><em> SLAVE2-IF </em> - Specifies the physical device used for the second of the two ring ports.</p>
<p><strong>supervision</strong><em> ADDR-BYTE</em> - The last byte of the multicast address used for HSR supervision frames. Default option is "0", possible values 0-255.</p>
<p><strong>version</strong> { <strong>0</strong> | <strong>1</strong> } - Selects the protocol version of the interface. Default option is "0", which corresponds to the 2010 version of the HSR standard. Option "1" activates the 2012 version.</p>
<p><strong>proto</strong> { <strong>0</strong> | <strong>1</strong> } - Selects the protocol at the interface. Default option is "0", which corresponds to the HSR standard. Option "1" activates the Parallel Redundancy Protocol (PRP).</p>
<dl>
<dt>BRIDGE Type Support</dt>
<dd><p>For a link of type <em>BRIDGE</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em><strong> type bridge </strong> [ <strong>ageing_time</strong><em> AGEING_TIME </em> ] [ <strong>group_fwd_mask</strong><em> MASK </em> ] [ <strong>group_address</strong><em> ADDRESS </em> ] [ <strong>forward_delay</strong><em> FORWARD_DELAY </em> ] [ <strong>hello_time</strong><em> HELLO_TIME </em> ] [ <strong>max_age</strong><em> MAX_AGE </em> ] [ <strong>stp_state</strong><em> STP_STATE </em> ] [ <strong>priority</strong><em> PRIORITY </em> ] [ <strong>vlan_filtering</strong><em> VLAN_FILTERING </em> ] [ <strong>vlan_protocol</strong><em> VLAN_PROTOCOL </em> ] [ <strong>vlan_default_pvid</strong><em> VLAN_DEFAULT_PVID </em> ] [ <strong>vlan_stats_enabled</strong><em> VLAN_STATS_ENABLED </em> ] [ <strong>vlan_stats_per_port</strong><em> VLAN_STATS_PER_PORT </em> ] [ <strong>mcast_snooping</strong><em> MULTICAST_SNOOPING </em> ] [ <strong>mcast_router</strong><em> MULTICAST_ROUTER </em> ] [ <strong>mcast_query_use_ifaddr</strong><em> MCAST_QUERY_USE_IFADDR </em> ] [ <strong>mcast_querier</strong><em> MULTICAST_QUERIER </em> ] [ <strong>mcast_hash_elasticity</strong><em> HASH_ELASTICITY </em> ] [ <strong>mcast_hash_max</strong><em> HASH_MAX </em> ] [ <strong>mcast_last_member_count</strong><em> LAST_MEMBER_COUNT </em> ] [ <strong>mcast_startup_query_count</strong><em> STARTUP_QUERY_COUNT </em> ] [ <strong>mcast_last_member_interval</strong><em> LAST_MEMBER_INTERVAL </em> ] [ <strong>mcast_membership_interval</strong><em> MEMBERSHIP_INTERVAL </em> ] [ <strong>mcast_querier_interval</strong><em> QUERIER_INTERVAL </em> ] [ <strong>mcast_query_interval</strong><em> QUERY_INTERVAL </em> ] [ <strong>mcast_query_response_interval</strong><em> QUERY_RESPONSE_INTERVAL </em> ] [ <strong>mcast_startup_query_interval</strong><em> STARTUP_QUERY_INTERVAL </em> ] [ <strong>mcast_stats_enabled</strong><em> MCAST_STATS_ENABLED </em> ] [ <strong>mcast_igmp_version</strong><em> IGMP_VERSION </em> ] [ <strong>mcast_mld_version</strong><em> MLD_VERSION </em> ] [ <strong>nf_call_iptables</strong><em> NF_CALL_IPTABLES </em> ] [ <strong>nf_call_ip6tables</strong><em> NF_CALL_IP6TABLES </em> ] [ <strong>nf_call_arptables</strong><em> NF_CALL_ARPTABLES </em> ]</p>
<p><strong>ageing_time</strong><em> AGEING_TIME </em> - configure the bridge's FDB entries ageing time, ie the number of seconds a MAC address will be kept in the FDB after a packet has been received from that address. after this time has passed, entries are cleaned up.</p>
<p><strong>group_fwd_mask</strong><em> MASK </em> - set the group forward mask. This is the bitmask that is applied to decide whether to forward incoming frames destined to link-local addresses, ie addresses of the form 01:80:C2:00:00:0X (defaults to 0, ie the bridge does not forward any link-local frames).</p>
<p><strong>group_address</strong><em> ADDRESS </em> - set the MAC address of the multicast group this bridge uses for STP. The address must be a link-local address in standard Ethernet MAC address format, ie an address of the form 01:80:C2:00:00:0X, with X in [0, 4..f].</p>
<p><strong>forward_delay</strong><em> FORWARD_DELAY </em> - set the forwarding delay in seconds, ie the time spent in LISTENING state (before moving to LEARNING) and in LEARNING state (before moving to FORWARDING). Only relevant if STP is enabled. Valid values are between 2 and 30.</p>
<p><strong>hello_time</strong><em> HELLO_TIME </em> - set the time in seconds between hello packets sent by the bridge, when it is a root bridge or a designated bridges. Only relevant if STP is enabled. Valid values are between 1 and 10.</p>
<p><strong>max_age</strong><em> MAX_AGE </em> - set the hello packet timeout, ie the time in seconds until another bridge in the spanning tree is assumed to be dead, after reception of its last hello message. Only relevant if STP is enabled. Valid values are between 6 and 40.</p>
<p><strong>stp_state</strong><em> STP_STATE </em> - turn spanning tree protocol on (<em>STP_STATE</em> &gt; 0) or off (<em>STP_STATE</em> == 0). for this bridge.</p>
<p><strong>priority</strong><em> PRIORITY </em> - set this bridge's spanning tree priority, used during STP root bridge election. <em>PRIORITY</em> is a 16bit unsigned integer.</p>
<p><strong>vlan_filtering</strong><em> VLAN_FILTERING </em> - turn VLAN filtering on (<em>VLAN_FILTERING</em> &gt; 0) or off (<em>VLAN_FILTERING</em> == 0). When disabled, the bridge will not consider the VLAN tag when handling packets.</p>
<p><strong>vlan_protocol</strong> { <strong>802.1Q</strong> | <strong>802.1ad</strong> } - set the protocol used for VLAN filtering.</p>
<p><strong>vlan_default_pvid</strong><em> VLAN_DEFAULT_PVID </em> - set the default PVID (native/untagged VLAN ID) for this bridge.</p>
<p><strong>vlan_stats_enabled</strong><em> VLAN_STATS_ENABLED </em> - enable (<em>VLAN_STATS_ENABLED</em> == 1) or disable (<em>VLAN_STATS_ENABLED</em> == 0) per-VLAN stats accounting.</p>
<p><strong>vlan_stats_per_port</strong><em> VLAN_STATS_PER_PORT </em> - enable (<em>VLAN_STATS_PER_PORT</em> == 1) or disable (<em>VLAN_STATS_PER_PORT</em> == 0) per-VLAN per-port stats accounting. Can be changed only when there are no port VLANs configured.</p>
<p><strong>mcast_snooping</strong><em> MULTICAST_SNOOPING </em> - turn multicast snooping on (<em>MULTICAST_SNOOPING</em> &gt; 0) or off (<em>MULTICAST_SNOOPING</em> == 0).</p>
<p><strong>mcast_router</strong><em> MULTICAST_ROUTER </em> - set bridge's multicast router if IGMP snooping is enabled. <em>MULTICAST_ROUTER</em> is an integer value having the following meaning:</p>
<p><strong>0</strong> - disabled.</p>
<p><strong>1</strong> - automatic (queried).</p>
<p><strong>2</strong> - permanently enabled.</p>
<p><strong>mcast_query_use_ifaddr</strong><em> MCAST_QUERY_USE_IFADDR </em> - whether to use the bridge's own IP address as source address for IGMP queries (<em>MCAST_QUERY_USE_IFADDR</em> &gt; 0) or the default of 0.0.0.0 (<em>MCAST_QUERY_USE_IFADDR</em> == 0).</p>
<p><strong>mcast_querier</strong><em> MULTICAST_QUERIER </em> - enable (<em>MULTICAST_QUERIER</em> &gt; 0) or disable (<em>MULTICAST_QUERIER</em> == 0) IGMP querier, ie sending of multicast queries by the bridge (default: disabled).</p>
<p><strong>mcast_querier_interval</strong><em> QUERIER_INTERVAL </em> - interval between queries sent by other routers. if no queries are seen after this delay has passed, the bridge will start to send its own queries (as if <strong>mcast_querier</strong> was enabled).</p>
<p><strong>mcast_hash_elasticity</strong><em> HASH_ELASTICITY </em> - set multicast database hash elasticity, ie the maximum chain length in the multicast hash table (defaults to 4).</p>
<p><strong>mcast_hash_max</strong><em> HASH_MAX </em> - set maximum size of multicast hash table (defaults to 512, value must be a power of 2).</p>
<p><strong>mcast_last_member_count</strong><em> LAST_MEMBER_COUNT </em> - set multicast last member count, ie the number of queries the bridge will send before stopping forwarding a multicast group after a "leave" message has been received (defaults to 2).</p>
<p><strong>mcast_last_member_interval</strong><em> LAST_MEMBER_INTERVAL </em> - interval between queries to find remaining members of a group, after a "leave" message is received.</p>
<p><strong>mcast_startup_query_count</strong><em> STARTUP_QUERY_COUNT </em> - set the number of IGMP queries to send during startup phase (defaults to 2).</p>
<p><strong>mcast_startup_query_interval</strong><em> STARTUP_QUERY_INTERVAL </em> - interval between queries in the startup phase.</p>
<p><strong>mcast_query_interval</strong><em> QUERY_INTERVAL </em> - interval between queries sent by the bridge after the end of the startup phase.</p>
<p><strong>mcast_query_response_interval</strong><em> QUERY_RESPONSE_INTERVAL </em> - set the Max Response Time/Maximum Response Delay for IGMP/MLD queries sent by the bridge.</p>
<p><strong>mcast_membership_interval</strong><em> MEMBERSHIP_INTERVAL </em> - delay after which the bridge will leave a group, if no membership reports for this group are received.</p>
<p><strong>mcast_stats_enabled</strong><em> MCAST_STATS_ENABLED </em> - enable (<em>MCAST_STATS_ENABLED</em> &gt; 0) or disable (<em>MCAST_STATS_ENABLED</em> == 0) multicast (IGMP/MLD) stats accounting.</p>
<p><strong>mcast_igmp_version</strong><em> IGMP_VERSION </em> - set the IGMP version.</p>
<p><strong>mcast_mld_version</strong><em> MLD_VERSION </em> - set the MLD version.</p>
<p><strong>nf_call_iptables</strong><em> NF_CALL_IPTABLES </em> - enable (<em>NF_CALL_IPTABLES</em> &gt; 0) or disable (<em>NF_CALL_IPTABLES</em> == 0) iptables hooks on the bridge.</p>
<p><strong>nf_call_ip6tables</strong><em> NF_CALL_IP6TABLES </em> - enable (<em>NF_CALL_IP6TABLES</em> &gt; 0) or disable (<em>NF_CALL_IP6TABLES</em> == 0) ip6tables hooks on the bridge.</p>
<p><strong>nf_call_arptables</strong><em> NF_CALL_ARPTABLES </em> - enable (<em>NF_CALL_ARPTABLES</em> &gt; 0) or disable (<em>NF_CALL_ARPTABLES</em> == 0) arptables hooks on the bridge.</p>
<dl>
<dt>MACsec Type Support</dt>
<dd><p>For a link of type <em>MACsec</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add link </strong><em>DEVICE</em><strong> name </strong><em>NAME</em><strong> type macsec</strong> [ [ <strong>address</strong><em> &lt;lladdr&gt;</em> ] <strong>port</strong><em> PORT</em> | <strong>sci</strong><em> SCI</em> ] [ <strong>cipher</strong><em> CIPHER_SUITE</em> ] [ <strong>icvlen</strong> { <em>8..16</em> } ] [ <strong>encrypt</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>send_sci</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>end_station</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>scb</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>protect</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>replay</strong> { <strong>on</strong> | <strong>off</strong> } <strong>window</strong> { <em>0..2^32-1</em> } ] [ <strong>validate</strong> { <strong>strict</strong> | <strong>check</strong> | <strong>disabled</strong> } ] [ <strong>encodingsa</strong> { <em>0..3</em> } ]</p>
<p><strong>address</strong><em> &lt;lladdr&gt; </em> - sets the system identifier component of secure channel for this MACsec device.</p>
<p><strong>port</strong><em> PORT </em> - sets the port number component of secure channel for this MACsec device, in a range from 1 to 65535 inclusive. Numbers with a leading " 0 " or " 0x " are interpreted as octal and hexadecimal, respectively.</p>
<p><strong>sci</strong><em> SCI </em> - sets the secure channel identifier for this MACsec device. <em>SCI</em> is a 64bit wide number in hexadecimal format.</p>
<p><strong>cipher</strong><em> CIPHER_SUITE </em> - defines the cipher suite to use.</p>
<p><strong>icvlen</strong><em> LENGTH </em> - sets the length of the Integrity Check Value (ICV).</p>
<p><strong>encrypt on </strong>or<strong> encrypt off</strong> - switches between authenticated encryption, or authenticity mode only.</p>
<p><strong>send_sci on </strong>or<strong> send_sci off</strong> - specifies whether the SCI is included in every packet, or only when it is necessary.</p>
<p><strong>end_station on </strong>or<strong> end_station off</strong> - sets the End Station bit.</p>
<p><strong>scb on </strong>or<strong> scb off</strong> - sets the Single Copy Broadcast bit.</p>
<p><strong>protect on </strong>or<strong> protect off</strong> - enables MACsec protection on the device.</p>
<p><strong>replay on </strong>or<strong> replay off</strong> - enables replay protection on the device.</p>
<p><strong>window</strong><em> SIZE </em> - sets the size of the replay window.</p>
<p><strong>validate strict </strong>or<strong> validate check </strong>or<strong> validate disabled</strong> - sets the validation mode on the device.</p>
<p><strong>encodingsa</strong><em> AN </em> - sets the active secure association for transmission.</p>
<dl>
<dt>VRF Type Support</dt>
<dd><p>For a link of type <em>VRF</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em><strong> type vrf table </strong><em>TABLE</em></p>
<p><strong>table</strong> table id associated with VRF device</p>
<dl>
<dt>RMNET Type Support</dt>
<dd><p>For a link of type <em>RMNET</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add link </strong><em>DEVICE</em><strong> name </strong><em>NAME</em><strong> type rmnet mux_id </strong><em>MUXID</em></p>
<p><strong>mux_id</strong><em> MUXID </em> - specifies the mux identifier for the rmnet device, possible values 1-254.</p>
<dl>
<dt>XFRM Type Support</dt>
<dd><p>For a link of type <em>XFRM</em> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link add </strong><em>DEVICE</em><strong> type xfrm dev </strong><em>PHYS_DEV</em><strong> [ if_id </strong><em>IF_ID</em><strong> ]</strong></p>
<p><strong>dev</strong><em> PHYS_DEV </em> - specifies the underlying physical interface from which transform traffic is sent and received.</p>
<p><strong>if_id</strong><em> IF-ID </em> - specifies the hexadecimal lookup key used to send traffic to and from specific xfrm policies. Policies must be configured with the same key. If not set, the key defaults to 0 and will match any policies which similarly do not have a lookup key configuration.</p>
<h2>ip link delete - delete virtual link</h2>
<dl>
<dt><strong>dev</strong><em> DEVICE </em></dt>
<dd><p>specifies the virtual device to act operate on.</p>
</dd>
</dl>
<dl>
<dt><strong>group</strong><em> GROUP </em></dt>
<dd><p>specifies the group of virtual links to delete. Group 0 is not allowed to be deleted since it is the default group.</p>
</dd>
</dl>
<dl>
<dt><strong>type</strong><em> TYPE </em></dt>
<dd><p>specifies the type of the device.</p>
</dd>
</dl>
<h2>ip link set - change device attributes</h2>
<p><strong>Warning:</strong> If multiple parameter changes are requested, <strong>ip</strong> aborts immediately after any of the changes have failed. This is the only case when <strong>ip</strong> can move the system to an unpredictable state. The solution is to avoid changing several parameters with one <strong>ip link set</strong> call. The modifier <strong>change</strong> is equivalent to <strong>set</strong>.</p>
<dl>
<dt><strong>dev</strong><em> DEVICE </em></dt>
<dd><p><em>DEVICE</em> specifies network device to operate on. When configuring SR-IOV Virtual Function (VF) devices, this keyword should specify the associated Physical Function (PF) device.</p>
</dd>
</dl>
<dl>
<dt><strong>group</strong><em> GROUP </em></dt>
<dd><p><em>GROUP</em> has a dual role: If both group and dev are present, then move the device to the specified group. If only a group is specified, then the command operates on all devices in that group.</p>
</dd>
</dl>
<dl>
<dt><strong>up</strong> and <strong>down</strong></dt>
<dd><p>change the state of the device to <strong>UP</strong> or <strong>DOWN</strong>.</p>
</dd>
</dl>
<dl>
<dt><strong>arp on </strong>or<strong> arp off</strong></dt>
<dd><p>change the <strong>NOARP</strong> flag on the device.</p>
</dd>
</dl>
<dl>
<dt><strong>multicast on </strong>or<strong> multicast off</strong></dt>
<dd><p>change the <strong>MULTICAST</strong> flag on the device.</p>
</dd>
</dl>
<dl>
<dt><strong>allmulticast on </strong>or<strong> allmulticast off</strong></dt>
<dd><p>change the <strong>ALLMULTI</strong> flag on the device. When enabled, instructs network driver to retrieve all multicast packets from the network to the kernel for further processing.</p>
</dd>
</dl>
<dl>
<dt><strong>promisc on </strong>or<strong> promisc off</strong></dt>
<dd><p>change the <strong>PROMISC</strong> flag on the device. When enabled, activates promiscuous operation of the network device.</p>
</dd>
</dl>
<dl>
<dt><strong>trailers on </strong>or<strong> trailers off</strong></dt>
<dd><p>change the <strong>NOTRAILERS</strong> flag on the device, <strong>NOT</strong> used by the Linux and exists for BSD compatibility.</p>
</dd>
</dl>
<dl>
<dt><strong>protodown on </strong>or<strong> protodown off</strong></dt>
<dd><p>change the <strong>PROTODOWN</strong> state on the device. Indicates that a protocol error has been detected on the port. Switch drivers can react to this error by doing a phys down on the switch port.</p>
</dd>
</dl>
<dl>
<dt><strong>protodown_reason PREASON on </strong>or<strong> off</strong></dt>
<dd><p>set <strong>PROTODOWN</strong> reasons on the device. protodown reason bit names can be enumerated under /etc/iproute2/protodown_reasons.d/. possible reasons bits 0-31</p>
</dd>
</dl>
<dl>
<dt><strong>dynamic on </strong>or<strong> dynamic off</strong></dt>
<dd><p>change the <strong>DYNAMIC</strong> flag on the device. Indicates that address can change when interface goes down (currently <strong>NOT</strong> used by the Linux).</p>
</dd>
</dl>
<dl>
<dt><strong>name</strong><em> NAME</em></dt>
<dd><p>change the name of the device. This operation is not recommended if the device is running or has some addresses already configured.</p>
</dd>
</dl>
<dl>
<dt><strong>txqueuelen</strong><em> NUMBER</em></dt>
<dd>
</dd>
<dt><strong>txqlen</strong><em> NUMBER</em></dt>
<dd><p>change the transmit queue length of the device.</p>
</dd>
</dl>
<dl>
<dt><strong>mtu</strong><em> NUMBER</em></dt>
<dd><p>change the <em>MTU</em> of the device.</p>
</dd>
</dl>
<dl>
<dt><strong>address</strong><em> LLADDRESS</em></dt>
<dd><p>change the station address of the interface.</p>
</dd>
</dl>
<dl>
<dt><strong>broadcast</strong><em> LLADDRESS</em></dt>
<dd>
</dd>
<dt><strong>brd</strong><em> LLADDRESS</em></dt>
<dd>
</dd>
<dt><strong>peer</strong><em> LLADDRESS</em></dt>
<dd><p>change the link layer broadcast address or the peer address when the interface is <em>POINTOPOINT</em>.</p>
</dd>
</dl>
<dl>
<dt><strong>netns</strong><em> NETNSNAME </em><strong>|</strong><em> PID</em></dt>
<dd><p>move the device to the network namespace associated with name <em>NETNSNAME </em>or process<em> PID</em>.</p>
</dd>
</dl>
<p>Some devices are not allowed to change network namespace: loopback, bridge, wireless. These are network namespace local devices. In such case <strong>ip</strong> tool will return "Invalid argument" error. It is possible to find out if device is local to a single network namespace by checking <strong>netns-local</strong> flag in the output of the <strong>ethtool</strong>:</p>
<p><strong>ethtool -k</strong> <em>DEVICE</em></p>
<p>To change network namespace for wireless devices the <strong>iw</strong> tool can be used. But it allows to change network namespace only for physical devices and by process <em>PID</em>.</p>
<dl>
<dt><strong>alias</strong><em> NAME</em></dt>
<dd><p>give the device a symbolic name for easy reference.</p>
</dd>
</dl>
<dl>
<dt><strong>group</strong><em> GROUP</em></dt>
<dd><p>specify the group the device belongs to. The available groups are listed in file <strong>/etc/iproute2/group</strong>.</p>
</dd>
</dl>
<dl>
<dt><strong>vf</strong><em> NUM</em></dt>
<dd><p>specify a Virtual Function device to be configured. The associated PF device must be specified using the <strong>dev</strong> parameter.</p>
</dd>
</dl>
<p><strong>mac</strong><em> LLADDRESS</em> - change the station address for the specified VF. The <strong>vf</strong> parameter must be specified.</p>
<p><strong>vlan</strong><em> VLANID</em> - change the assigned VLAN for the specified VF. When specified, all traffic sent from the VF will be tagged with the specified VLAN ID. Incoming traffic will be filtered for the specified VLAN ID, and will have all VLAN tags stripped before being passed to the VF. Setting this parameter to 0 disables VLAN tagging and filtering. The <strong>vf</strong> parameter must be specified.</p>
<p><strong>qos</strong><em> VLAN-QOS</em> - assign VLAN QOS (priority) bits for the VLAN tag. When specified, all VLAN tags transmitted by the VF will include the specified priority bits in the VLAN tag. If not specified, the value is assumed to be 0. Both the <strong>vf</strong> and <strong>vlan</strong> parameters must be specified. Setting both <strong>vlan</strong> and <strong>qos</strong> as 0 disables VLAN tagging and filtering for the VF.</p>
<p><strong>proto</strong><em> VLAN-PROTO</em> - assign VLAN PROTOCOL for the VLAN tag, either 802.1Q or 802.1ad. Setting to 802.1ad, all traffic sent from the VF will be tagged with VLAN S-Tag. Incoming traffic will have VLAN S-Tags stripped before being passed to the VF. Setting to 802.1ad also enables an option to concatenate another VLAN tag, so both S-TAG and C-TAG will be inserted/stripped for outgoing/incoming traffic, respectively. If not specified, the value is assumed to be 802.1Q. Both the <strong>vf</strong> and <strong>vlan</strong> parameters must be specified.</p>
<p><strong>rate</strong><em> TXRATE</em> -- change the allowed transmit bandwidth, in Mbps, for the specified VF. Setting this parameter to 0 disables rate limiting. <strong>vf</strong> parameter must be specified. Please use new API <strong>max_tx_rate</strong> option instead.</p>
<p><strong>max_tx_rate</strong><em> TXRATE</em> - change the allowed maximum transmit bandwidth, in Mbps, for the specified VF. Setting this parameter to 0 disables rate limiting. <strong>vf</strong> parameter must be specified.</p>
<p><strong>min_tx_rate</strong><em> TXRATE</em> - change the allowed minimum transmit bandwidth, in Mbps, for the specified VF. Minimum TXRATE should be always &lt;= Maximum TXRATE. Setting this parameter to 0 disables rate limiting. <strong>vf</strong> parameter must be specified.</p>
<p><strong>spoofchk</strong><em> on|off</em> - turn packet spoof checking on or off for the specified VF.</p>
<p><strong>query_rss</strong><em> on|off</em> - toggle the ability of querying the RSS configuration of a specific VF. VF RSS information like RSS hash key may be considered sensitive on some devices where this information is shared between VF and PF and thus its querying may be prohibited by default.</p>
<p><strong>state</strong><em> auto|enable|disable</em> - set the virtual link state as seen by the specified VF. Setting to auto means a reflection of the PF link state, enable lets the VF to communicate with other VFs on this host even if the PF link state is down, disable causes the HW to drop any packets sent by the VF.</p>
<p><strong>trust</strong><em> on|off</em> - trust the specified VF user. This enables that VF user can set a specific feature which may impact security and/or performance. (e.g. VF multicast promiscuous mode)</p>
<p><strong>node_guid</strong><em> eui64</em> - configure node GUID for Infiniband VFs.</p>
<p><strong>port_guid</strong><em> eui64</em> - configure port GUID for Infiniband VFs.</p>
<dl>
<dt><strong>xdp object | pinned | off</strong></dt>
<dd><p>set (or unset) a XDP ("eXpress Data Path") BPF program to run on every packet at driver level. <strong>ip link</strong> output will indicate a <strong>xdp</strong> flag for the networking device. If the driver does not have native XDP support, the kernel will fall back to a slower, driver-independent "generic" XDP variant. The <strong>ip link</strong> output will in that case indicate <strong>xdpgeneric</strong> instead of <strong>xdp</strong> only. If the driver does have native XDP support, but the program is loaded under <strong>xdpgeneric object | pinned</strong> then the kernel will use the generic XDP variant instead of the native one. <strong>xdpdrv</strong> has the opposite effect of requestsing that the automatic fallback to the generic XDP variant be disabled and in case driver is not XDP-capable error should be returned. <strong>xdpdrv</strong> also disables hardware offloads. <strong>xdpoffload</strong> in ip link output indicates that the program has been offloaded to hardware and can also be used to request the "offload" mode, much like <strong>xdpgeneric</strong> it forces program to be installed specifically in HW/FW of the apater.</p>
</dd>
</dl>
<p><strong>off</strong> (or <strong>none</strong> ) - Detaches any currently attached XDP/BPF program from the given device.</p>
<p><strong>object</strong><em> FILE </em> - Attaches a XDP/BPF program to the given device. The <em>FILE</em> points to a BPF ELF file (f.e. generated by LLVM) that contains the BPF program code, map specifications, etc. If a XDP/BPF program is already attached to the given device, an error will be thrown. If no XDP/BPF program is currently attached, the device supports XDP and the program from the BPF ELF file passes the kernel verifier, then it will be attached to the device. If the option <em>-force</em> is passed to <strong>ip</strong> then any prior attached XDP/BPF program will be atomically overridden and no error will be thrown in this case. If no <strong>section</strong> option is passed, then the default section name ("prog") will be assumed, otherwise the provided section name will be used. If no <strong>verbose</strong> option is passed, then a verifier log will only be dumped on load error. See also <strong>EXAMPLES</strong> section for usage examples.</p>
<p><strong>section</strong><em> NAME </em> - Specifies a section name that contains the BPF program code. If no section name is specified, the default one ("prog") will be used. This option is to be passed with the <strong>object</strong> option.</p>
<p><strong>verbose</strong> - Act in verbose mode. For example, even in case of success, this will print the verifier log in case a program was loaded from a BPF ELF file.</p>
<p><strong>pinned</strong><em> FILE </em> - Attaches a XDP/BPF program to the given device. The <em>FILE</em> points to an already pinned BPF program in the BPF file system. The option <strong>section</strong> doesn't apply here, but otherwise semantics are the same as with the option <strong>object</strong> described already.</p>
<dl>
<dt><strong>master</strong><em> DEVICE</em></dt>
<dd><p>set master device of the device (enslave device).</p>
</dd>
</dl>
<dl>
<dt><strong>nomaster</strong></dt>
<dd><p>unset master device of the device (release device).</p>
</dd>
</dl>
<dl>
<dt><strong>addrgenmode</strong><em> eui64|none|stable_secret|random</em></dt>
<dd><p>set the IPv6 address generation mode</p>
</dd>
</dl>
<p><em>eui64</em> - use a Modified EUI-64 format interface identifier</p>
<p><em>none</em> - disable automatic address generation</p>
<p><em>stable_secret</em> - generate the interface identifier based on a preset /proc/sys/net/ipv6/conf/{default,DEVICE}/stable_secret</p>
<p><em>random</em> - like stable_secret, but auto-generate a new random secret if none is set</p>
<dl>
<dt><strong>link-netnsid </strong></dt>
<dd><p>set peer netnsid for a cross-netns interface</p>
</dd>
</dl>
<dl>
<dt><strong>type</strong><em> ETYPE TYPE_ARGS</em></dt>
<dd><p>Change type-specific settings. For a list of supported types and arguments refer to the description of <strong>ip link add</strong> above. In addition to that, it is possible to manipulate settings to slave devices:</p>
</dd>
</dl>
<dl>
<dt>Bridge Slave Support</dt>
<dd><p>For a link with master <strong>bridge</strong> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link set type bridge_slave</strong> [ <strong>fdb_flush</strong> ] [ <strong>state</strong><em> STATE</em> ] [ <strong>priority</strong><em> PRIO</em> ] [ <strong>cost</strong><em> COST</em> ] [ <strong>guard</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>hairpin</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>fastleave</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>root_block</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>learning</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>flood</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>proxy_arp</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>proxy_arp_wifi</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>mcast_router</strong><em> MULTICAST_ROUTER</em> ] [ <strong>mcast_fast_leave</strong> { <strong>on</strong> | <strong>off</strong>} ] [ <strong>mcast_flood</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>mcast_to_unicast</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>group_fwd_mask</strong> MASK ] [ <strong>neigh_suppress</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>vlan_tunnel</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>isolated</strong> { <strong>on</strong> | <strong>off</strong> } ] [ <strong>backup_port</strong> DEVICE ] [ <strong>nobackup_port</strong> ]</p>
<p><strong>fdb_flush</strong> - flush bridge slave's fdb dynamic entries.</p>
<p><strong>state</strong><em> STATE</em> - Set port state. <em>STATE</em> is a number representing the following states: <strong>0</strong> (disabled), <strong>1</strong> (listening), <strong>2</strong> (learning), <strong>3</strong> (forwarding), <strong>4</strong> (blocking).</p>
<p><strong>priority</strong><em> PRIO</em> - set port priority (allowed values are between 0 and 63, inclusively).</p>
<p><strong>cost</strong><em> COST</em> - set port cost (allowed values are between 1 and 65535, inclusively).</p>
<p><strong>guard</strong> { <strong>on</strong> | <strong>off</strong> } - block incoming BPDU packets on this port.</p>
<p><strong>hairpin</strong> { <strong>on</strong> | <strong>off</strong> } - enable hairpin mode on this port. This will allow incoming packets on this port to be reflected back.</p>
<p><strong>fastleave</strong> { <strong>on</strong> | <strong>off</strong> } - enable multicast fast leave on this port.</p>
<p><strong>root_block</strong> { <strong>on</strong> | <strong>off</strong> } - block this port from becoming the bridge's root port.</p>
<p><strong>learning</strong> { <strong>on</strong> | <strong>off</strong> } - allow MAC address learning on this port.</p>
<p><strong>flood</strong> { <strong>on</strong> | <strong>off</strong> } - open the flood gates on this port, i.e. forward all unicast frames to this port also. Requires <strong>proxy_arp</strong> and <strong>proxy_arp_wifi</strong> to be turned off.</p>
<p><strong>proxy_arp</strong> { <strong>on</strong> | <strong>off</strong> } - enable proxy ARP on this port.</p>
<p><strong>proxy_arp_wifi</strong> { <strong>on</strong> | <strong>off</strong> } - enable proxy ARP on this port which meets extended requirements by IEEE 802.11 and Hotspot 2.0 specifications.</p>
<p><strong>mcast_router</strong><em> MULTICAST_ROUTER</em> - configure this port for having multicast routers attached. A port with a multicast router will receive all multicast traffic. <em>MULTICAST_ROUTER</em> may be either <strong>0</strong> to disable multicast routers on this port, <strong>1</strong> to let the system detect the presence of of routers (this is the default), <strong>2</strong> to permanently enable multicast traffic forwarding on this port or <strong>3</strong> to enable multicast routers temporarily on this port, not depending on incoming queries.</p>
<p><strong>mcast_fast_leave</strong> { <strong>on</strong> | <strong>off</strong> } - this is a synonym to the <strong>fastleave</strong> option above.</p>
<p><strong>mcast_flood</strong> { <strong>on</strong> | <strong>off</strong> } - controls whether a given port will flood multicast traffic for which there is no MDB entry.</p>
<p><strong>mcast_to_unicast</strong> { <strong>on</strong> | <strong>off</strong> } - controls whether a given port will replicate packets using unicast instead of multicast. By default this flag is off.</p>
<p><strong>group_fwd_mask</strong><em> MASK </em> - set the group forward mask. This is the bitmask that is applied to decide whether to forward incoming frames destined to link-local addresses, ie addresses of the form 01:80:C2:00:00:0X (defaults to 0, ie the bridge does not forward any link-local frames coming on this port).</p>
<p><strong>neigh_suppress</strong> { <strong>on</strong> | <strong>off</strong> } - controls whether neigh discovery (arp and nd) proxy and suppression is enabled on the port. By default this flag is off.</p>
<p><strong>vlan_tunnel</strong> { <strong>on</strong> | <strong>off</strong> } - controls whether vlan to tunnel mapping is enabled on the port. By default this flag is off.</p>
<p><strong>backup_port</strong><em> DEVICE</em> - if the port loses carrier all traffic will be redirected to the configured backup port</p>
<p><strong>nobackup_port</strong> - removes the currently configured backup port</p>
<dl>
<dt>Bonding Slave Support</dt>
<dd><p>For a link with master <strong>bond</strong> the following additional arguments are supported:</p>
</dd>
</dl>
<p><strong>ip link set type bond_slave</strong> [ <strong>queue_id</strong><em> ID</em> ]</p>
<p><strong>queue_id</strong><em> ID</em> - set the slave's queue ID (a 16bit unsigned value).</p>
<dl>
<dt>MACVLAN and MACVTAP Support</dt>
<dd><p>Modify list of allowed macaddr for link in source mode.</p>
</dd>
</dl>
<p><strong>ip link set type { macvlan | macvap } </strong> [ <strong>macaddr</strong><em> </em><strong></strong><em>COMMAND</em><strong> </strong><em>MACADDR</em><strong> ...</strong> ]</p>
<p>Commands:</p>
<p><strong>add</strong> - add MACADDR to allowed list</p>
<p><strong>set</strong> - replace allowed list</p>
<p><strong>del</strong> - remove MACADDR from allowed list</p>
<p><strong>flush</strong> - flush whole allowed list</p>
<h2>ip link show - display device attributes</h2>
<dl>
<dt><strong>dev</strong><em> NAME </em><strong>(default)</strong></dt>
<dd><p><em>NAME</em> specifies the network device to show.</p>
</dd>
</dl>
<dl>
<dt><strong>group</strong><em> GROUP </em></dt>
<dd><p><em>GROUP</em> specifies what group of devices to show.</p>
</dd>
</dl>
<dl>
<dt><strong>up</strong></dt>
<dd><p>only display running interfaces.</p>
</dd>
</dl>
<dl>
<dt><strong>master</strong><em> DEVICE </em></dt>
<dd><p><em>DEVICE</em> specifies the master device which enslaves devices to show.</p>
</dd>
</dl>
<dl>
<dt><strong>vrf</strong><em> NAME </em></dt>
<dd><p><em>NAME</em> speficies the VRF which enslaves devices to show.</p>
</dd>
</dl>
<dl>
<dt><strong>type</strong><em> TYPE </em></dt>
<dd><p><em>TYPE</em> specifies the type of devices to show.</p>
</dd>
</dl>
<p>Note that the type name is not checked against the list of supported types - instead it is sent as-is to the kernel. Later it is used to filter the returned interface list by comparing it with the relevant attribute in case the kernel didn't filter already. Therefore any string is accepted, but may lead to empty output.</p>
<h2>ip link xstats - display extended statistics</h2>
<dl>
<dt><strong>type</strong><em> TYPE </em></dt>
<dd><p><em>TYPE</em> specifies the type of devices to display extended statistics for.</p>
</dd>
</dl>
<h2>ip link afstats - display address-family specific statistics</h2>
<dl>
<dt><strong>dev</strong><em> DEVICE </em></dt>
<dd><p><em>DEVICE</em> specifies the device to display address-family statistics for.</p>
</dd>
</dl>
<h2>ip link help - display help</h2>
<p><em>TYPE</em> specifies which help of link type to display.</p>
<h2></h2>
<p><em>GROUP</em> may be a number or a string from the file <strong>/etc/iproute2/group</strong> which can be manually filled.</p>
<h1>EXAMPLES</h1>
<p>ip link show</p>
<blockquote>
<p>Shows the state of all network interfaces on the system.</p>
</blockquote>
<p>ip link show type bridge</p>
<blockquote>
<p>Shows the bridge devices.</p>
</blockquote>
<p>ip link show type vlan</p>
<blockquote>
<p>Shows the vlan devices.</p>
</blockquote>
<p>ip link show master br0</p>
<blockquote>
<p>Shows devices enslaved by br0</p>
</blockquote>
<p>ip link set dev ppp0 mtu 1400</p>
<blockquote>
<p>Change the MTU the ppp0 device.</p>
</blockquote>
<p>ip link add link eth0 name eth0.10 type vlan id 10</p>
<blockquote>
<p>Creates a new vlan device eth0.10 on device eth0.</p>
</blockquote>
<p>ip link delete dev eth0.10</p>
<blockquote>
<p>Removes vlan device.</p>
</blockquote>
<p>ip link help gre</p>
<blockquote>
<p>Display help for the gre link type.</p>
</blockquote>
<p>ip link add name tun1 type ipip remote 192.168.1.1 local 192.168.1.2 ttl 225 encap gue encap-sport auto encap-dport 5555 encap-csum encap-remcsum</p>
<blockquote>
<p>Creates an IPIP that is encapsulated with Generic UDP Encapsulation, and the outer UDP checksum and remote checksum offload are enabled.</p>
</blockquote>
<p>ip link set dev eth0 xdp obj prog.o</p>
<blockquote>
<p>Attaches a XDP/BPF program to device eth0, where the program is located in prog.o, section "prog" (default section). In case a XDP/BPF program is already attached, throw an error.</p>
</blockquote>
<p>ip -force link set dev eth0 xdp obj prog.o sec foo</p>
<blockquote>
<p>Attaches a XDP/BPF program to device eth0, where the program is located in prog.o, section "foo". In case a XDP/BPF program is already attached, it will be overridden by the new one.</p>
</blockquote>
<p>ip -force link set dev eth0 xdp pinned /sys/fs/bpf/foo</p>
<blockquote>
<p>Attaches a XDP/BPF program to device eth0, where the program was previously pinned as an object node into BPF file system under name foo.</p>
</blockquote>
<p>ip link set dev eth0 xdp off</p>
<blockquote>
<p>If a XDP/BPF program is attached on device eth0, detach it and effectively turn off XDP for device eth0.</p>
</blockquote>
<p>ip link add link wpan0 lowpan0 type lowpan</p>
<blockquote>
<p>Creates a 6LoWPAN interface named lowpan0 on the underlying IEEE 802.15.4 device wpan0.</p>
</blockquote>
<p>ip link add dev ip6erspan11 type ip6erspan seq key 102 local fc00:100::2 remote fc00:100::1 erspan_ver 2 erspan_dir ingress erspan_hwid 17</p>
<blockquote>
<p>Creates a IP6ERSPAN version 2 interface named ip6erspan00.</p>
</blockquote>
<h1>SEE ALSO</h1>
<p><br />
<strong>ip</strong>(8), <strong>ip-netns</strong>(8), <strong>ethtool</strong>(8), <strong>iptables</strong>(8)</p>
<h1>AUTHOR</h1>
<p>Original Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;</p>
<footer style="text-align: center;"><a href="https://blog.tamer.pw" target="_blank">Blog</a> | <a href="https://github.com/linuxtamer" target="_blank">Contact</a></footer>
</div>
</body>
</html>

